var ne=Object.defineProperty;var ie=(i,r,e)=>r in i?ne(i,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[r]=e;var W=(i,r,e)=>(ie(i,typeof r!="symbol"?r+"":r,e),e);import{s as safe_not_equal,A as svg_element,_ as HtmlTagHydration,B as claim_svg_element,b as children,a0 as claim_html_tag,f as detach,m as attr,i as insert_hydration,n as noop$1,l as create_slot,z as assign,e as element,a as space,c as claim_element,g as claim_space,J as set_attributes,D as toggle_class,h as append_hydration,w as listen,a4 as stop_propagation,u as update_slot_base,o as get_all_dirty_from_scope,p as get_slot_changes,a5 as bubble,a6 as get_store_value}from"./scheduler.CtaztZ94.js";import{S as SvelteComponent,i as init,t as transition_in,a as transition_out}from"./index.nwZ4YROD.js";import{w as writable}from"./entry.DsVJw0kK.js";function get_spread_update(i,r){const e={},t={},n={$$scope:1};let a=i.length;for(;a--;){const o=i[a],u=r[a];if(u){for(const s in o)s in u||(t[s]=1);for(const s in u)n[s]||(e[s]=u[s],n[s]=1);i[a]=u}else for(const s in o)n[s]=1}for(const o in t)o in e||(e[o]=void 0);return e}function create_fragment$1(i){let r,e,t=i[0].body+"",n;return{c(){r=svg_element("svg"),e=new HtmlTagHydration(!0),this.h()},l(a){r=claim_svg_element(a,"svg",{width:!0,height:!0,class:!0,viewBox:!0});var o=children(r);e=claim_html_tag(o,!0),o.forEach(detach),this.h()},h(){e.a=null,attr(r,"width",i[1]),attr(r,"height",i[2]),attr(r,"class",i[3]),attr(r,"viewBox",n="0 0 "+i[0].width+" "+i[0].height)},m(a,o){insert_hydration(a,r,o),e.m(t,r)},p(a,[o]){o&1&&t!==(t=a[0].body+"")&&e.p(t),o&2&&attr(r,"width",a[1]),o&4&&attr(r,"height",a[2]),o&8&&attr(r,"class",a[3]),o&1&&n!==(n="0 0 "+a[0].width+" "+a[0].height)&&attr(r,"viewBox",n)},i:noop$1,o:noop$1,d(a){a&&detach(r)}}}function instance$1(i,r,e){let{icon:t}=r,{width:n="1em"}=r,{height:a="1em"}=r,{class:o=void 0}=r;return i.$$set=u=>{"icon"in u&&e(0,t=u.icon),"width"in u&&e(1,n=u.width),"height"in u&&e(2,a=u.height),"class"in u&&e(3,o=u.class)},[t,n,a,o]}class Icon extends SvelteComponent{constructor(r){super(),init(this,r,instance$1,create_fragment$1,safe_not_equal,{icon:0,width:1,height:2,class:3})}}const Icon$1=Icon;function create_fragment(i){let r,e,t,n,a,o,u,s;const l=i[6].default,c=create_slot(l,i,i[5],null);let f=[{disabled:i[4]},{class:n="m3-container m3-font-label-large "+i[3]+" icon-"+i[2]},{style:a="display: "+i[0]+";"},i[1]],h={};for(let d=0;d<f.length;d+=1)h=assign(h,f[d]);return{c(){r=element("button"),e=element("div"),t=space(),c&&c.c(),this.h()},l(d){r=claim_element(d,"BUTTON",{class:!0,style:!0});var y=children(r);e=claim_element(y,"DIV",{class:!0}),children(e).forEach(detach),t=claim_space(y),c&&c.l(y),y.forEach(detach),this.h()},h(){attr(e,"class","layer svelte-w5kd3p"),set_attributes(r,h),toggle_class(r,"svelte-w5kd3p",!0)},m(d,y){insert_hydration(d,r,y),append_hydration(r,e),append_hydration(r,t),c&&c.m(r,null),r.autofocus&&r.focus(),o=!0,u||(s=listen(r,"click",stop_propagation(i[7])),u=!0)},p(d,[y]){c&&c.p&&(!o||y&32)&&update_slot_base(c,l,d,d[5],o?get_slot_changes(l,d[5],y,null):get_all_dirty_from_scope(d[5]),null),set_attributes(r,h=get_spread_update(f,[(!o||y&16)&&{disabled:d[4]},(!o||y&12&&n!==(n="m3-container m3-font-label-large "+d[3]+" icon-"+d[2]))&&{class:n},(!o||y&1&&a!==(a="display: "+d[0]+";"))&&{style:a},y&2&&d[1]])),toggle_class(r,"svelte-w5kd3p",!0)},i(d){o||(transition_in(c,d),o=!0)},o(d){transition_out(c,d),o=!1},d(d){d&&detach(r),c&&c.d(d),u=!1,s()}}}function instance(i,r,e){let{$$slots:t={},$$scope:n}=r,{display:a="inline-flex"}=r,{extraOptions:o={}}=r,{iconType:u="none"}=r,{type:s}=r,{disabled:l=!1}=r;function c(f){bubble.call(this,i,f)}return i.$$set=f=>{"display"in f&&e(0,a=f.display),"extraOptions"in f&&e(1,o=f.extraOptions),"iconType"in f&&e(2,u=f.iconType),"type"in f&&e(3,s=f.type),"disabled"in f&&e(4,l=f.disabled),"$$scope"in f&&e(5,n=f.$$scope)},[a,o,u,s,l,n,t,c]}class Button extends SvelteComponent{constructor(r){super(),init(this,r,instance,create_fragment,safe_not_equal,{display:0,extraOptions:1,iconType:2,type:3,disabled:4})}}const robot_state=writable(null),physical_params=writable(null),pitch_controller=writable(null),yaw_controller=writable(null),log=writable([]);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var indexMinimal={},minimal$1={},aspromise=asPromise$1;function asPromise$1(i,r){for(var e=new Array(arguments.length-1),t=0,n=2,a=!0;n<arguments.length;)e[t++]=arguments[n++];return new Promise(function(u,s){e[t]=function(c){if(a)if(a=!1,c)s(c);else{for(var f=new Array(arguments.length-1),h=0;h<f.length;)f[h++]=arguments[h];u.apply(null,f)}};try{i.apply(r||null,e)}catch(l){a&&(a=!1,s(l))}})}var base64$1={};(function(i){var r=i;r.length=function(u){var s=u.length;if(!s)return 0;for(var l=0;--s%4>1&&u.charAt(s)==="=";)++l;return Math.ceil(u.length*3)/4-l};for(var e=new Array(64),t=new Array(123),n=0;n<64;)t[e[n]=n<26?n+65:n<52?n+71:n<62?n-4:n-59|43]=n++;r.encode=function(u,s,l){for(var c=null,f=[],h=0,d=0,y;s<l;){var m=u[s++];switch(d){case 0:f[h++]=e[m>>2],y=(m&3)<<4,d=1;break;case 1:f[h++]=e[y|m>>4],y=(m&15)<<2,d=2;break;case 2:f[h++]=e[y|m>>6],f[h++]=e[m&63],d=0;break}h>8191&&((c||(c=[])).push(String.fromCharCode.apply(String,f)),h=0)}return d&&(f[h++]=e[y],f[h++]=61,d===1&&(f[h++]=61)),c?(h&&c.push(String.fromCharCode.apply(String,f.slice(0,h))),c.join("")):String.fromCharCode.apply(String,f.slice(0,h))};var a="invalid encoding";r.decode=function(u,s,l){for(var c=l,f=0,h,d=0;d<u.length;){var y=u.charCodeAt(d++);if(y===61&&f>1)break;if((y=t[y])===void 0)throw Error(a);switch(f){case 0:h=y,f=1;break;case 1:s[l++]=h<<2|(y&48)>>4,h=y,f=2;break;case 2:s[l++]=(h&15)<<4|(y&60)>>2,h=y,f=3;break;case 3:s[l++]=(h&3)<<6|y,f=0;break}}if(f===1)throw Error(a);return l-c},r.test=function(u){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(u)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(r,e,t){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:e,ctx:t||this}),this};EventEmitter.prototype.off=function(r,e){if(r===void 0)this._listeners={};else if(e===void 0)this._listeners[r]=[];else for(var t=this._listeners[r],n=0;n<t.length;)t[n].fn===e?t.splice(n,1):++n;return this};EventEmitter.prototype.emit=function(r){var e=this._listeners[r];if(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);for(n=0;n<e.length;)e[n].fn.apply(e[n++].ctx,t)}return this};var float=factory(factory);function factory(i){return typeof Float32Array<"u"?function(){var r=new Float32Array([-0]),e=new Uint8Array(r.buffer),t=e[3]===128;function n(s,l,c){r[0]=s,l[c]=e[0],l[c+1]=e[1],l[c+2]=e[2],l[c+3]=e[3]}function a(s,l,c){r[0]=s,l[c]=e[3],l[c+1]=e[2],l[c+2]=e[1],l[c+3]=e[0]}i.writeFloatLE=t?n:a,i.writeFloatBE=t?a:n;function o(s,l){return e[0]=s[l],e[1]=s[l+1],e[2]=s[l+2],e[3]=s[l+3],r[0]}function u(s,l){return e[3]=s[l],e[2]=s[l+1],e[1]=s[l+2],e[0]=s[l+3],r[0]}i.readFloatLE=t?o:u,i.readFloatBE=t?u:o}():function(){function r(t,n,a,o){var u=n<0?1:0;if(u&&(n=-n),n===0)t(1/n>0?0:2147483648,a,o);else if(isNaN(n))t(2143289344,a,o);else if(n>34028234663852886e22)t((u<<31|2139095040)>>>0,a,o);else if(n<11754943508222875e-54)t((u<<31|Math.round(n/1401298464324817e-60))>>>0,a,o);else{var s=Math.floor(Math.log(n)/Math.LN2),l=Math.round(n*Math.pow(2,-s)*8388608)&8388607;t((u<<31|s+127<<23|l)>>>0,a,o)}}i.writeFloatLE=r.bind(null,writeUintLE),i.writeFloatBE=r.bind(null,writeUintBE);function e(t,n,a){var o=t(n,a),u=(o>>31)*2+1,s=o>>>23&255,l=o&8388607;return s===255?l?NaN:u*(1/0):s===0?u*1401298464324817e-60*l:u*Math.pow(2,s-150)*(l+8388608)}i.readFloatLE=e.bind(null,readUintLE),i.readFloatBE=e.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var r=new Float64Array([-0]),e=new Uint8Array(r.buffer),t=e[7]===128;function n(s,l,c){r[0]=s,l[c]=e[0],l[c+1]=e[1],l[c+2]=e[2],l[c+3]=e[3],l[c+4]=e[4],l[c+5]=e[5],l[c+6]=e[6],l[c+7]=e[7]}function a(s,l,c){r[0]=s,l[c]=e[7],l[c+1]=e[6],l[c+2]=e[5],l[c+3]=e[4],l[c+4]=e[3],l[c+5]=e[2],l[c+6]=e[1],l[c+7]=e[0]}i.writeDoubleLE=t?n:a,i.writeDoubleBE=t?a:n;function o(s,l){return e[0]=s[l],e[1]=s[l+1],e[2]=s[l+2],e[3]=s[l+3],e[4]=s[l+4],e[5]=s[l+5],e[6]=s[l+6],e[7]=s[l+7],r[0]}function u(s,l){return e[7]=s[l],e[6]=s[l+1],e[5]=s[l+2],e[4]=s[l+3],e[3]=s[l+4],e[2]=s[l+5],e[1]=s[l+6],e[0]=s[l+7],r[0]}i.readDoubleLE=t?o:u,i.readDoubleBE=t?u:o}():function(){function r(t,n,a,o,u,s){var l=o<0?1:0;if(l&&(o=-o),o===0)t(0,u,s+n),t(1/o>0?0:2147483648,u,s+a);else if(isNaN(o))t(0,u,s+n),t(2146959360,u,s+a);else if(o>17976931348623157e292)t(0,u,s+n),t((l<<31|2146435072)>>>0,u,s+a);else{var c;if(o<22250738585072014e-324)c=o/5e-324,t(c>>>0,u,s+n),t((l<<31|c/4294967296)>>>0,u,s+a);else{var f=Math.floor(Math.log(o)/Math.LN2);f===1024&&(f=1023),c=o*Math.pow(2,-f),t(c*4503599627370496>>>0,u,s+n),t((l<<31|f+1023<<20|c*1048576&1048575)>>>0,u,s+a)}}}i.writeDoubleLE=r.bind(null,writeUintLE,0,4),i.writeDoubleBE=r.bind(null,writeUintBE,4,0);function e(t,n,a,o,u){var s=t(o,u+n),l=t(o,u+a),c=(l>>31)*2+1,f=l>>>20&2047,h=4294967296*(l&1048575)+s;return f===2047?h?NaN:c*(1/0):f===0?c*5e-324*h:c*Math.pow(2,f-1075)*(h+4503599627370496)}i.readDoubleLE=e.bind(null,readUintLE,0,4),i.readDoubleBE=e.bind(null,readUintBE,4,0)}(),i}function writeUintLE(i,r,e){r[e]=i&255,r[e+1]=i>>>8&255,r[e+2]=i>>>16&255,r[e+3]=i>>>24}function writeUintBE(i,r,e){r[e]=i>>>24,r[e+1]=i>>>16&255,r[e+2]=i>>>8&255,r[e+3]=i&255}function readUintLE(i,r){return(i[r]|i[r+1]<<8|i[r+2]<<16|i[r+3]<<24)>>>0}function readUintBE(i,r){return(i[r]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3])>>>0}var inquire_1=inquire$1;function inquire$1(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(i){}return null}var utf8$2={};(function(i){var r=i;r.length=function(t){for(var n=0,a=0,o=0;o<t.length;++o)a=t.charCodeAt(o),a<128?n+=1:a<2048?n+=2:(a&64512)===55296&&(t.charCodeAt(o+1)&64512)===56320?(++o,n+=4):n+=3;return n},r.read=function(t,n,a){var o=a-n;if(o<1)return"";for(var u=null,s=[],l=0,c;n<a;)c=t[n++],c<128?s[l++]=c:c>191&&c<224?s[l++]=(c&31)<<6|t[n++]&63:c>239&&c<365?(c=((c&7)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,s[l++]=55296+(c>>10),s[l++]=56320+(c&1023)):s[l++]=(c&15)<<12|(t[n++]&63)<<6|t[n++]&63,l>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,s)),l=0);return u?(l&&u.push(String.fromCharCode.apply(String,s.slice(0,l))),u.join("")):String.fromCharCode.apply(String,s.slice(0,l))},r.write=function(t,n,a){for(var o=a,u,s,l=0;l<t.length;++l)u=t.charCodeAt(l),u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&((s=t.charCodeAt(l+1))&64512)===56320?(u=65536+((u&1023)<<10)+(s&1023),++l,n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128);return a-o}})(utf8$2);var pool_1=pool;function pool(i,r,e){var t=e||8192,n=t>>>1,a=null,o=t;return function(s){if(s<1||s>n)return i(s);o+s>t&&(a=i(t),o=0);var l=r.call(a,o,o+=s);return o&7&&(o=(o|7)+1),l}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=r;var i=requireMinimal();function r(a,o){this.lo=a>>>0,this.hi=o>>>0}var e=r.zero=new r(0,0);e.toNumber=function(){return 0},e.zzEncode=e.zzDecode=function(){return this},e.length=function(){return 1};var t=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(o){if(o===0)return e;var u=o<0;u&&(o=-o);var s=o>>>0,l=(o-s)/4294967296>>>0;return u&&(l=~l>>>0,s=~s>>>0,++s>4294967295&&(s=0,++l>4294967295&&(l=0))),new r(s,l)},r.from=function(o){if(typeof o=="number")return r.fromNumber(o);if(i.isString(o))if(i.Long)o=i.Long.fromString(o);else return r.fromNumber(parseInt(o,10));return o.low||o.high?new r(o.low>>>0,o.high>>>0):e},r.prototype.toNumber=function(o){if(!o&&this.hi>>>31){var u=~this.lo+1>>>0,s=~this.hi>>>0;return u||(s=s+1>>>0),-(u+s*4294967296)}return this.lo+this.hi*4294967296},r.prototype.toLong=function(o){return i.Long?new i.Long(this.lo|0,this.hi|0,!!o):{low:this.lo|0,high:this.hi|0,unsigned:!!o}};var n=String.prototype.charCodeAt;return r.fromHash=function(o){return o===t?e:new r((n.call(o,0)|n.call(o,1)<<8|n.call(o,2)<<16|n.call(o,3)<<24)>>>0,(n.call(o,4)|n.call(o,5)<<8|n.call(o,6)<<16|n.call(o,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var o=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^o)>>>0,this.lo=(this.lo<<1^o)>>>0,this},r.prototype.zzDecode=function(){var o=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^o)>>>0,this.hi=(this.hi>>>1^o)>>>0,this},r.prototype.length=function(){var o=this.lo,u=(this.lo>>>28|this.hi<<4)>>>0,s=this.hi>>>24;return s===0?u===0?o<16384?o<128?1:2:o<2097152?3:4:u<16384?u<128?5:6:u<2097152?7:8:s<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(i){var r=i;r.asPromise=aspromise,r.base64=base64$1,r.EventEmitter=eventemitter,r.float=float,r.inquire=inquire_1,r.utf8=utf8$2,r.pool=pool_1,r.LongBits=requireLongbits(),r.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),r.global=r.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a},r.isString=function(a){return typeof a=="string"||a instanceof String},r.isObject=function(a){return a&&typeof a=="object"},r.isset=r.isSet=function(a,o){var u=a[o];return u!=null&&a.hasOwnProperty(o)?typeof u!="object"||(Array.isArray(u)?u.length:Object.keys(u).length)>0:!1},r.Buffer=function(){try{var n=r.inquire("buffer").Buffer;return n.prototype.utf8Write?n:null}catch{return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(a){return typeof a=="number"?r.Buffer?r._Buffer_allocUnsafe(a):new r.Array(a):r.Buffer?r._Buffer_from(a):typeof Uint8Array>"u"?a:new Uint8Array(a)},r.Array=typeof Uint8Array<"u"?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(a){return a?r.LongBits.from(a).toHash():r.LongBits.zeroHash},r.longFromHash=function(a,o){var u=r.LongBits.fromHash(a);return r.Long?r.Long.fromBits(u.lo,u.hi,o):u.toNumber(!!o)};function e(n,a,o){for(var u=Object.keys(a),s=0;s<u.length;++s)(n[u[s]]===void 0||!o)&&(n[u[s]]=a[u[s]]);return n}r.merge=e,r.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)};function t(n){function a(o,u){if(!(this instanceof a))return new a(o,u);Object.defineProperty(this,"message",{get:function(){return o}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:new Error().stack||""}),u&&e(this,u)}return a.prototype=Object.create(Error.prototype,{constructor:{value:a,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return n},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),a}r.newError=t,r.ProtocolError=t("ProtocolError"),r.oneOfGetter=function(a){for(var o={},u=0;u<a.length;++u)o[a[u]]=1;return function(){for(var s=Object.keys(this),l=s.length-1;l>-1;--l)if(o[s[l]]===1&&this[s[l]]!==void 0&&this[s[l]]!==null)return s[l]}},r.oneOfSetter=function(a){return function(o){for(var u=0;u<a.length;++u)a[u]!==o&&delete this[a[u]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var n=r.Buffer;if(!n){r._Buffer_from=r._Buffer_allocUnsafe=null;return}r._Buffer_from=n.from!==Uint8Array.from&&n.from||function(o,u){return new n(o,u)},r._Buffer_allocUnsafe=n.allocUnsafe||function(o){return new n(o)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$7=requireMinimal(),BufferWriter$1,LongBits$1=util$7.LongBits,base64=util$7.base64,utf8$1=util$7.utf8;function Op(i,r,e){this.fn=i,this.len=r,this.next=void 0,this.val=e}function noop(){}function State(i){this.head=i.head,this.tail=i.tail,this.len=i.len,this.next=i.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function i(){return util$7.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function i(r){return new util$7.Array(r)};util$7.Array!==Array&&(Writer$1.alloc=util$7.pool(Writer$1.alloc,util$7.Array.prototype.subarray));Writer$1.prototype._push=function i(r,e,t){return this.tail=this.tail.next=new Op(r,e,t),this.len+=e,this};function writeByte(i,r,e){r[e]=i&255}function writeVarint32(i,r,e){for(;i>127;)r[e++]=i&127|128,i>>>=7;r[e]=i}function VarintOp(i,r){this.len=i,this.next=void 0,this.val=r}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function i(r){return this.len+=(this.tail=this.tail.next=new VarintOp((r=r>>>0)<128?1:r<16384?2:r<2097152?3:r<268435456?4:5,r)).len,this};Writer$1.prototype.int32=function i(r){return r<0?this._push(writeVarint64,10,LongBits$1.fromNumber(r)):this.uint32(r)};Writer$1.prototype.sint32=function i(r){return this.uint32((r<<1^r>>31)>>>0)};function writeVarint64(i,r,e){for(;i.hi;)r[e++]=i.lo&127|128,i.lo=(i.lo>>>7|i.hi<<25)>>>0,i.hi>>>=7;for(;i.lo>127;)r[e++]=i.lo&127|128,i.lo=i.lo>>>7;r[e++]=i.lo}Writer$1.prototype.uint64=function i(r){var e=LongBits$1.from(r);return this._push(writeVarint64,e.length(),e)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function i(r){var e=LongBits$1.from(r).zzEncode();return this._push(writeVarint64,e.length(),e)};Writer$1.prototype.bool=function i(r){return this._push(writeByte,1,r?1:0)};function writeFixed32(i,r,e){r[e]=i&255,r[e+1]=i>>>8&255,r[e+2]=i>>>16&255,r[e+3]=i>>>24}Writer$1.prototype.fixed32=function i(r){return this._push(writeFixed32,4,r>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function i(r){var e=LongBits$1.from(r);return this._push(writeFixed32,4,e.lo)._push(writeFixed32,4,e.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function i(r){return this._push(util$7.float.writeFloatLE,4,r)};Writer$1.prototype.double=function i(r){return this._push(util$7.float.writeDoubleLE,8,r)};var writeBytes=util$7.Array.prototype.set?function i(r,e,t){e.set(r,t)}:function i(r,e,t){for(var n=0;n<r.length;++n)e[t+n]=r[n]};Writer$1.prototype.bytes=function i(r){var e=r.length>>>0;if(!e)return this._push(writeByte,1,0);if(util$7.isString(r)){var t=Writer$1.alloc(e=base64.length(r));base64.decode(r,t,0),r=t}return this.uint32(e)._push(writeBytes,e,r)};Writer$1.prototype.string=function i(r){var e=utf8$1.length(r);return e?this.uint32(e)._push(utf8$1.write,e,r):this._push(writeByte,1,0)};Writer$1.prototype.fork=function i(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function i(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function i(){var r=this.head,e=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=r.next,this.tail=e,this.len+=t),this};Writer$1.prototype.finish=function i(){for(var r=this.head.next,e=this.constructor.alloc(this.len),t=0;r;)r.fn(r.val,e,t),t+=r.len,r=r.next;return e};Writer$1._configure=function(i){BufferWriter$1=i,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$6=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$6._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$6.Buffer&&util$6.Buffer.prototype instanceof Uint8Array&&util$6.Buffer.prototype.set.name==="set"?function(r,e,t){e.set(r,t)}:function(r,e,t){if(r.copy)r.copy(e,t,0,r.length);else for(var n=0;n<r.length;)e[t++]=r[n++]}};BufferWriter.prototype.bytes=function i(r){util$6.isString(r)&&(r=util$6._Buffer_from(r,"base64"));var e=r.length>>>0;return this.uint32(e),e&&this._push(BufferWriter.writeBytesBuffer,e,r),this};function writeStringBuffer(i,r,e){i.length<40?util$6.utf8.write(i,r,e):r.utf8Write?r.utf8Write(i,e):r.write(i,e)}BufferWriter.prototype.string=function i(r){var e=util$6.Buffer.byteLength(r);return this.uint32(e),e&&this._push(writeStringBuffer,e,r),this};BufferWriter._configure();var reader=Reader$1,util$5=requireMinimal(),BufferReader$1,LongBits=util$5.LongBits,utf8=util$5.utf8;function indexOutOfRange(i,r){return RangeError("index out of range: "+i.pos+" + "+(r||1)+" > "+i.len)}function Reader$1(i){this.buf=i,this.pos=0,this.len=i.length}var create_array=typeof Uint8Array<"u"?function i(r){if(r instanceof Uint8Array||Array.isArray(r))return new Reader$1(r);throw Error("illegal buffer")}:function i(r){if(Array.isArray(r))return new Reader$1(r);throw Error("illegal buffer")},create=function i(){return util$5.Buffer?function(e){return(Reader$1.create=function(n){return util$5.Buffer.isBuffer(n)?new BufferReader$1(n):create_array(n)})(e)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$5.Array.prototype.subarray||util$5.Array.prototype.slice;Reader$1.prototype.uint32=function i(){var r=4294967295;return function(){if(r=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(r=(r|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return r;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return r}}();Reader$1.prototype.int32=function i(){return this.uint32()|0};Reader$1.prototype.sint32=function i(){var r=this.uint32();return r>>>1^-(r&1)|0};function readLongVarint(){var i=new LongBits(0,0),r=0;if(this.len-this.pos>4){for(;r<4;++r)if(i.lo=(i.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return i;if(i.lo=(i.lo|(this.buf[this.pos]&127)<<28)>>>0,i.hi=(i.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return i;r=0}else{for(;r<3;++r){if(this.pos>=this.len)throw indexOutOfRange(this);if(i.lo=(i.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return i}return i.lo=(i.lo|(this.buf[this.pos++]&127)<<r*7)>>>0,i}if(this.len-this.pos>4){for(;r<5;++r)if(i.hi=(i.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return i}else for(;r<5;++r){if(this.pos>=this.len)throw indexOutOfRange(this);if(i.hi=(i.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return i}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function i(){return this.uint32()!==0};function readFixed32_end(i,r){return(i[r-4]|i[r-3]<<8|i[r-2]<<16|i[r-1]<<24)>>>0}Reader$1.prototype.fixed32=function i(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function i(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function i(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var r=util$5.float.readFloatLE(this.buf,this.pos);return this.pos+=4,r};Reader$1.prototype.double=function i(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var r=util$5.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,r};Reader$1.prototype.bytes=function i(){var r=this.uint32(),e=this.pos,t=this.pos+r;if(t>this.len)throw indexOutOfRange(this,r);if(this.pos+=r,Array.isArray(this.buf))return this.buf.slice(e,t);if(e===t){var n=util$5.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,e,t)};Reader$1.prototype.string=function i(){var r=this.bytes();return utf8.read(r,0,r.length)};Reader$1.prototype.skip=function i(r){if(typeof r=="number"){if(this.pos+r>this.len)throw indexOutOfRange(this,r);this.pos+=r}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(i){switch(i){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(i=this.uint32()&7)!==4;)this.skipType(i);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+i+" at offset "+this.pos)}return this};Reader$1._configure=function(i){BufferReader$1=i,Reader$1.create=create(),BufferReader$1._configure();var r=util$5.Long?"toLong":"toNumber";util$5.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[r](!1)},uint64:function(){return readLongVarint.call(this)[r](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[r](!1)},fixed64:function(){return readFixed64.call(this)[r](!0)},sfixed64:function(){return readFixed64.call(this)[r](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$4=requireMinimal();function BufferReader(i){Reader.call(this,i)}BufferReader._configure=function(){util$4.Buffer&&(BufferReader.prototype._slice=util$4.Buffer.prototype.slice)};BufferReader.prototype.string=function i(){var r=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+r,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+r,this.len))};BufferReader._configure();var rpc={},service$1=Service$1,util$3=requireMinimal();(Service$1.prototype=Object.create(util$3.EventEmitter.prototype)).constructor=Service$1;function Service$1(i,r,e){if(typeof i!="function")throw TypeError("rpcImpl must be a function");util$3.EventEmitter.call(this),this.rpcImpl=i,this.requestDelimited=!!r,this.responseDelimited=!!e}Service$1.prototype.rpcCall=function i(r,e,t,n,a){if(!n)throw TypeError("request must be specified");var o=this;if(!a)return util$3.asPromise(i,o,r,e,t,n);if(!o.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return o.rpcImpl(r,e[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(s,l){if(s)return o.emit("error",s,r),a(s);if(l===null){o.end(!0);return}if(!(l instanceof t))try{l=t[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(c){return o.emit("error",c,r),a(c)}return o.emit("data",l,r),a(null,l)})}catch(u){o.emit("error",u,r),setTimeout(function(){a(u)},0);return}};Service$1.prototype.end=function i(r){return this.rpcImpl&&(r||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(i){var r=i;r.Service=service$1})(rpc);var roots={};(function(i){var r=i;r.build="minimal",r.Writer=writer,r.BufferWriter=writer_buffer,r.Reader=reader,r.BufferReader=reader_buffer,r.util=requireMinimal(),r.rpc=rpc,r.roots=roots,r.configure=e;function e(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}e()})(indexMinimal);var minimal=indexMinimal;const $protobuf=getDefaultExportFromCjs(minimal),$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots.default||($protobuf.roots.default={}),Command=$root.Command=(()=>{const i={},r=Object.create(i);return r[i[0]="START"]=0,r[i[1]="STOP"]=1,r[i[2]="SAVE_PHYSICAL_PARAMS"]=2,r[i[3]="SAVE_PITCH_CONTROLLER_PARAMS"]=3,r[i[4]="SAVE_YAW_CONTROLLER_PARAMS"]=4,r})(),Web2Bot=$root.Web2Bot=(()=>{function i(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}i.prototype.id=0,i.prototype.command=null,i.prototype.physicalParams=null,i.prototype.pitchControllerParams=null,i.prototype.rollControllerParams=null;let r;return Object.defineProperty(i.prototype,"msg",{get:$util.oneOfGetter(r=["command","physicalParams","pitchControllerParams","rollControllerParams"]),set:$util.oneOfSetter(r)}),i.create=function(t){return new i(t)},i.encode=function(t,n){return n||(n=$Writer.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&n.uint32(8).uint32(t.id),t.command!=null&&Object.hasOwnProperty.call(t,"command")&&n.uint32(16).int32(t.command),t.physicalParams!=null&&Object.hasOwnProperty.call(t,"physicalParams")&&$root.PhysicalParams.encode(t.physicalParams,n.uint32(26).fork()).ldelim(),t.pitchControllerParams!=null&&Object.hasOwnProperty.call(t,"pitchControllerParams")&&$root.PitchControllerParams.encode(t.pitchControllerParams,n.uint32(34).fork()).ldelim(),t.rollControllerParams!=null&&Object.hasOwnProperty.call(t,"rollControllerParams")&&$root.YawControllerParams.encode(t.rollControllerParams,n.uint32(42).fork()).ldelim(),n},i.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},i.decode=function(t,n){t instanceof $Reader||(t=$Reader.create(t));let a=n===void 0?t.len:t.pos+n,o=new $root.Web2Bot;for(;t.pos<a;){let u=t.uint32();switch(u>>>3){case 1:{o.id=t.uint32();break}case 2:{o.command=t.int32();break}case 3:{o.physicalParams=$root.PhysicalParams.decode(t,t.uint32());break}case 4:{o.pitchControllerParams=$root.PitchControllerParams.decode(t,t.uint32());break}case 5:{o.rollControllerParams=$root.YawControllerParams.decode(t,t.uint32());break}default:t.skipType(u&7);break}}return o},i.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},i.verify=function(t){if(typeof t!="object"||t===null)return"object expected";let n={};if(t.id!=null&&t.hasOwnProperty("id")&&!$util.isInteger(t.id))return"id: integer expected";if(t.command!=null&&t.hasOwnProperty("command"))switch(n.msg=1,t.command){default:return"command: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(t.physicalParams!=null&&t.hasOwnProperty("physicalParams")){if(n.msg===1)return"msg: multiple values";n.msg=1;{let a=$root.PhysicalParams.verify(t.physicalParams);if(a)return"physicalParams."+a}}if(t.pitchControllerParams!=null&&t.hasOwnProperty("pitchControllerParams")){if(n.msg===1)return"msg: multiple values";n.msg=1;{let a=$root.PitchControllerParams.verify(t.pitchControllerParams);if(a)return"pitchControllerParams."+a}}if(t.rollControllerParams!=null&&t.hasOwnProperty("rollControllerParams")){if(n.msg===1)return"msg: multiple values";n.msg=1;{let a=$root.YawControllerParams.verify(t.rollControllerParams);if(a)return"rollControllerParams."+a}}return null},i.fromObject=function(t){if(t instanceof $root.Web2Bot)return t;let n=new $root.Web2Bot;switch(t.id!=null&&(n.id=t.id>>>0),t.command){default:if(typeof t.command=="number"){n.command=t.command;break}break;case"START":case 0:n.command=0;break;case"STOP":case 1:n.command=1;break;case"SAVE_PHYSICAL_PARAMS":case 2:n.command=2;break;case"SAVE_PITCH_CONTROLLER_PARAMS":case 3:n.command=3;break;case"SAVE_YAW_CONTROLLER_PARAMS":case 4:n.command=4;break}if(t.physicalParams!=null){if(typeof t.physicalParams!="object")throw TypeError(".Web2Bot.physicalParams: object expected");n.physicalParams=$root.PhysicalParams.fromObject(t.physicalParams)}if(t.pitchControllerParams!=null){if(typeof t.pitchControllerParams!="object")throw TypeError(".Web2Bot.pitchControllerParams: object expected");n.pitchControllerParams=$root.PitchControllerParams.fromObject(t.pitchControllerParams)}if(t.rollControllerParams!=null){if(typeof t.rollControllerParams!="object")throw TypeError(".Web2Bot.rollControllerParams: object expected");n.rollControllerParams=$root.YawControllerParams.fromObject(t.rollControllerParams)}return n},i.toObject=function(t,n){n||(n={});let a={};return n.defaults&&(a.id=0),t.id!=null&&t.hasOwnProperty("id")&&(a.id=t.id),t.command!=null&&t.hasOwnProperty("command")&&(a.command=n.enums===String?$root.Command[t.command]===void 0?t.command:$root.Command[t.command]:t.command,n.oneofs&&(a.msg="command")),t.physicalParams!=null&&t.hasOwnProperty("physicalParams")&&(a.physicalParams=$root.PhysicalParams.toObject(t.physicalParams,n),n.oneofs&&(a.msg="physicalParams")),t.pitchControllerParams!=null&&t.hasOwnProperty("pitchControllerParams")&&(a.pitchControllerParams=$root.PitchControllerParams.toObject(t.pitchControllerParams,n),n.oneofs&&(a.msg="pitchControllerParams")),t.rollControllerParams!=null&&t.hasOwnProperty("rollControllerParams")&&(a.rollControllerParams=$root.YawControllerParams.toObject(t.rollControllerParams,n),n.oneofs&&(a.msg="rollControllerParams")),a},i.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},i.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/Web2Bot"},i})();$root.PhysicalParams=(()=>{function i(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return i.prototype.wheelRadius=0,i.prototype.wheelBase=0,i.prototype.motorMaxSpeed=0,i.prototype.gravity=0,i.prototype.torqueLength=0,i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=$Writer.create()),e.wheelRadius!=null&&Object.hasOwnProperty.call(e,"wheelRadius")&&t.uint32(13).float(e.wheelRadius),e.wheelBase!=null&&Object.hasOwnProperty.call(e,"wheelBase")&&t.uint32(21).float(e.wheelBase),e.motorMaxSpeed!=null&&Object.hasOwnProperty.call(e,"motorMaxSpeed")&&t.uint32(29).float(e.motorMaxSpeed),e.gravity!=null&&Object.hasOwnProperty.call(e,"gravity")&&t.uint32(37).float(e.gravity),e.torqueLength!=null&&Object.hasOwnProperty.call(e,"torqueLength")&&t.uint32(45).float(e.torqueLength),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let n=t===void 0?e.len:e.pos+t,a=new $root.PhysicalParams;for(;e.pos<n;){let o=e.uint32();switch(o>>>3){case 1:{a.wheelRadius=e.float();break}case 2:{a.wheelBase=e.float();break}case 3:{a.motorMaxSpeed=e.float();break}case 4:{a.gravity=e.float();break}case 5:{a.torqueLength=e.float();break}default:e.skipType(o&7);break}}return a},i.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},i.verify=function(e){return typeof e!="object"||e===null?"object expected":e.wheelRadius!=null&&e.hasOwnProperty("wheelRadius")&&typeof e.wheelRadius!="number"?"wheelRadius: number expected":e.wheelBase!=null&&e.hasOwnProperty("wheelBase")&&typeof e.wheelBase!="number"?"wheelBase: number expected":e.motorMaxSpeed!=null&&e.hasOwnProperty("motorMaxSpeed")&&typeof e.motorMaxSpeed!="number"?"motorMaxSpeed: number expected":e.gravity!=null&&e.hasOwnProperty("gravity")&&typeof e.gravity!="number"?"gravity: number expected":e.torqueLength!=null&&e.hasOwnProperty("torqueLength")&&typeof e.torqueLength!="number"?"torqueLength: number expected":null},i.fromObject=function(e){if(e instanceof $root.PhysicalParams)return e;let t=new $root.PhysicalParams;return e.wheelRadius!=null&&(t.wheelRadius=Number(e.wheelRadius)),e.wheelBase!=null&&(t.wheelBase=Number(e.wheelBase)),e.motorMaxSpeed!=null&&(t.motorMaxSpeed=Number(e.motorMaxSpeed)),e.gravity!=null&&(t.gravity=Number(e.gravity)),e.torqueLength!=null&&(t.torqueLength=Number(e.torqueLength)),t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.wheelRadius=0,n.wheelBase=0,n.motorMaxSpeed=0,n.gravity=0,n.torqueLength=0),e.wheelRadius!=null&&e.hasOwnProperty("wheelRadius")&&(n.wheelRadius=t.json&&!isFinite(e.wheelRadius)?String(e.wheelRadius):e.wheelRadius),e.wheelBase!=null&&e.hasOwnProperty("wheelBase")&&(n.wheelBase=t.json&&!isFinite(e.wheelBase)?String(e.wheelBase):e.wheelBase),e.motorMaxSpeed!=null&&e.hasOwnProperty("motorMaxSpeed")&&(n.motorMaxSpeed=t.json&&!isFinite(e.motorMaxSpeed)?String(e.motorMaxSpeed):e.motorMaxSpeed),e.gravity!=null&&e.hasOwnProperty("gravity")&&(n.gravity=t.json&&!isFinite(e.gravity)?String(e.gravity):e.gravity),e.torqueLength!=null&&e.hasOwnProperty("torqueLength")&&(n.torqueLength=t.json&&!isFinite(e.torqueLength)?String(e.torqueLength):e.torqueLength),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/PhysicalParams"},i})();$root.PitchControllerParams=(()=>{function i(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}i.prototype.pid=null;let r;return Object.defineProperty(i.prototype,"params",{get:$util.oneOfGetter(r=["pid"]),set:$util.oneOfSetter(r)}),i.create=function(t){return new i(t)},i.encode=function(t,n){return n||(n=$Writer.create()),t.pid!=null&&Object.hasOwnProperty.call(t,"pid")&&$root.PitchPidParams.encode(t.pid,n.uint32(10).fork()).ldelim(),n},i.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},i.decode=function(t,n){t instanceof $Reader||(t=$Reader.create(t));let a=n===void 0?t.len:t.pos+n,o=new $root.PitchControllerParams;for(;t.pos<a;){let u=t.uint32();switch(u>>>3){case 1:{o.pid=$root.PitchPidParams.decode(t,t.uint32());break}default:t.skipType(u&7);break}}return o},i.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},i.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.pid!=null&&t.hasOwnProperty("pid")){let n=$root.PitchPidParams.verify(t.pid);if(n)return"pid."+n}return null},i.fromObject=function(t){if(t instanceof $root.PitchControllerParams)return t;let n=new $root.PitchControllerParams;if(t.pid!=null){if(typeof t.pid!="object")throw TypeError(".PitchControllerParams.pid: object expected");n.pid=$root.PitchPidParams.fromObject(t.pid)}return n},i.toObject=function(t,n){n||(n={});let a={};return t.pid!=null&&t.hasOwnProperty("pid")&&(a.pid=$root.PitchPidParams.toObject(t.pid,n),n.oneofs&&(a.params="pid")),a},i.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},i.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/PitchControllerParams"},i})();$root.YawControllerParams=(()=>{function i(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}i.prototype.pid=null;let r;return Object.defineProperty(i.prototype,"params",{get:$util.oneOfGetter(r=["pid"]),set:$util.oneOfSetter(r)}),i.create=function(t){return new i(t)},i.encode=function(t,n){return n||(n=$Writer.create()),t.pid!=null&&Object.hasOwnProperty.call(t,"pid")&&$root.YawPidParams.encode(t.pid,n.uint32(10).fork()).ldelim(),n},i.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},i.decode=function(t,n){t instanceof $Reader||(t=$Reader.create(t));let a=n===void 0?t.len:t.pos+n,o=new $root.YawControllerParams;for(;t.pos<a;){let u=t.uint32();switch(u>>>3){case 1:{o.pid=$root.YawPidParams.decode(t,t.uint32());break}default:t.skipType(u&7);break}}return o},i.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},i.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.pid!=null&&t.hasOwnProperty("pid")){let n=$root.YawPidParams.verify(t.pid);if(n)return"pid."+n}return null},i.fromObject=function(t){if(t instanceof $root.YawControllerParams)return t;let n=new $root.YawControllerParams;if(t.pid!=null){if(typeof t.pid!="object")throw TypeError(".YawControllerParams.pid: object expected");n.pid=$root.YawPidParams.fromObject(t.pid)}return n},i.toObject=function(t,n){n||(n={});let a={};return t.pid!=null&&t.hasOwnProperty("pid")&&(a.pid=$root.YawPidParams.toObject(t.pid,n),n.oneofs&&(a.params="pid")),a},i.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},i.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/YawControllerParams"},i})();$root.PitchPidParams=(()=>{function i(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return i.prototype.kp=0,i.prototype.ki=0,i.prototype.kd=0,i.prototype.kf=0,i.prototype.integralZeroThreshold=0,i.prototype.integralSaturationLimit=0,i.prototype.resetIntegral=!1,i.prototype.ffAddGravity=!1,i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=$Writer.create()),e.kp!=null&&Object.hasOwnProperty.call(e,"kp")&&t.uint32(13).float(e.kp),e.ki!=null&&Object.hasOwnProperty.call(e,"ki")&&t.uint32(21).float(e.ki),e.kd!=null&&Object.hasOwnProperty.call(e,"kd")&&t.uint32(29).float(e.kd),e.kf!=null&&Object.hasOwnProperty.call(e,"kf")&&t.uint32(37).float(e.kf),e.integralZeroThreshold!=null&&Object.hasOwnProperty.call(e,"integralZeroThreshold")&&t.uint32(45).float(e.integralZeroThreshold),e.integralSaturationLimit!=null&&Object.hasOwnProperty.call(e,"integralSaturationLimit")&&t.uint32(53).float(e.integralSaturationLimit),e.resetIntegral!=null&&Object.hasOwnProperty.call(e,"resetIntegral")&&t.uint32(56).bool(e.resetIntegral),e.ffAddGravity!=null&&Object.hasOwnProperty.call(e,"ffAddGravity")&&t.uint32(64).bool(e.ffAddGravity),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let n=t===void 0?e.len:e.pos+t,a=new $root.PitchPidParams;for(;e.pos<n;){let o=e.uint32();switch(o>>>3){case 1:{a.kp=e.float();break}case 2:{a.ki=e.float();break}case 3:{a.kd=e.float();break}case 4:{a.kf=e.float();break}case 5:{a.integralZeroThreshold=e.float();break}case 6:{a.integralSaturationLimit=e.float();break}case 7:{a.resetIntegral=e.bool();break}case 8:{a.ffAddGravity=e.bool();break}default:e.skipType(o&7);break}}return a},i.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},i.verify=function(e){return typeof e!="object"||e===null?"object expected":e.kp!=null&&e.hasOwnProperty("kp")&&typeof e.kp!="number"?"kp: number expected":e.ki!=null&&e.hasOwnProperty("ki")&&typeof e.ki!="number"?"ki: number expected":e.kd!=null&&e.hasOwnProperty("kd")&&typeof e.kd!="number"?"kd: number expected":e.kf!=null&&e.hasOwnProperty("kf")&&typeof e.kf!="number"?"kf: number expected":e.integralZeroThreshold!=null&&e.hasOwnProperty("integralZeroThreshold")&&typeof e.integralZeroThreshold!="number"?"integralZeroThreshold: number expected":e.integralSaturationLimit!=null&&e.hasOwnProperty("integralSaturationLimit")&&typeof e.integralSaturationLimit!="number"?"integralSaturationLimit: number expected":e.resetIntegral!=null&&e.hasOwnProperty("resetIntegral")&&typeof e.resetIntegral!="boolean"?"resetIntegral: boolean expected":e.ffAddGravity!=null&&e.hasOwnProperty("ffAddGravity")&&typeof e.ffAddGravity!="boolean"?"ffAddGravity: boolean expected":null},i.fromObject=function(e){if(e instanceof $root.PitchPidParams)return e;let t=new $root.PitchPidParams;return e.kp!=null&&(t.kp=Number(e.kp)),e.ki!=null&&(t.ki=Number(e.ki)),e.kd!=null&&(t.kd=Number(e.kd)),e.kf!=null&&(t.kf=Number(e.kf)),e.integralZeroThreshold!=null&&(t.integralZeroThreshold=Number(e.integralZeroThreshold)),e.integralSaturationLimit!=null&&(t.integralSaturationLimit=Number(e.integralSaturationLimit)),e.resetIntegral!=null&&(t.resetIntegral=!!e.resetIntegral),e.ffAddGravity!=null&&(t.ffAddGravity=!!e.ffAddGravity),t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.kp=0,n.ki=0,n.kd=0,n.kf=0,n.integralZeroThreshold=0,n.integralSaturationLimit=0,n.resetIntegral=!1,n.ffAddGravity=!1),e.kp!=null&&e.hasOwnProperty("kp")&&(n.kp=t.json&&!isFinite(e.kp)?String(e.kp):e.kp),e.ki!=null&&e.hasOwnProperty("ki")&&(n.ki=t.json&&!isFinite(e.ki)?String(e.ki):e.ki),e.kd!=null&&e.hasOwnProperty("kd")&&(n.kd=t.json&&!isFinite(e.kd)?String(e.kd):e.kd),e.kf!=null&&e.hasOwnProperty("kf")&&(n.kf=t.json&&!isFinite(e.kf)?String(e.kf):e.kf),e.integralZeroThreshold!=null&&e.hasOwnProperty("integralZeroThreshold")&&(n.integralZeroThreshold=t.json&&!isFinite(e.integralZeroThreshold)?String(e.integralZeroThreshold):e.integralZeroThreshold),e.integralSaturationLimit!=null&&e.hasOwnProperty("integralSaturationLimit")&&(n.integralSaturationLimit=t.json&&!isFinite(e.integralSaturationLimit)?String(e.integralSaturationLimit):e.integralSaturationLimit),e.resetIntegral!=null&&e.hasOwnProperty("resetIntegral")&&(n.resetIntegral=e.resetIntegral),e.ffAddGravity!=null&&e.hasOwnProperty("ffAddGravity")&&(n.ffAddGravity=e.ffAddGravity),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/PitchPidParams"},i})();$root.YawPidParams=(()=>{function i(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return i.prototype.kp=0,i.prototype.ki=0,i.prototype.kd=0,i.prototype.kf=0,i.prototype.integralZeroThreshold=0,i.prototype.integralSaturationLimit=0,i.prototype.resetIntegral=!1,i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=$Writer.create()),e.kp!=null&&Object.hasOwnProperty.call(e,"kp")&&t.uint32(13).float(e.kp),e.ki!=null&&Object.hasOwnProperty.call(e,"ki")&&t.uint32(21).float(e.ki),e.kd!=null&&Object.hasOwnProperty.call(e,"kd")&&t.uint32(29).float(e.kd),e.kf!=null&&Object.hasOwnProperty.call(e,"kf")&&t.uint32(37).float(e.kf),e.integralZeroThreshold!=null&&Object.hasOwnProperty.call(e,"integralZeroThreshold")&&t.uint32(45).float(e.integralZeroThreshold),e.integralSaturationLimit!=null&&Object.hasOwnProperty.call(e,"integralSaturationLimit")&&t.uint32(53).float(e.integralSaturationLimit),e.resetIntegral!=null&&Object.hasOwnProperty.call(e,"resetIntegral")&&t.uint32(56).bool(e.resetIntegral),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let n=t===void 0?e.len:e.pos+t,a=new $root.YawPidParams;for(;e.pos<n;){let o=e.uint32();switch(o>>>3){case 1:{a.kp=e.float();break}case 2:{a.ki=e.float();break}case 3:{a.kd=e.float();break}case 4:{a.kf=e.float();break}case 5:{a.integralZeroThreshold=e.float();break}case 6:{a.integralSaturationLimit=e.float();break}case 7:{a.resetIntegral=e.bool();break}default:e.skipType(o&7);break}}return a},i.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},i.verify=function(e){return typeof e!="object"||e===null?"object expected":e.kp!=null&&e.hasOwnProperty("kp")&&typeof e.kp!="number"?"kp: number expected":e.ki!=null&&e.hasOwnProperty("ki")&&typeof e.ki!="number"?"ki: number expected":e.kd!=null&&e.hasOwnProperty("kd")&&typeof e.kd!="number"?"kd: number expected":e.kf!=null&&e.hasOwnProperty("kf")&&typeof e.kf!="number"?"kf: number expected":e.integralZeroThreshold!=null&&e.hasOwnProperty("integralZeroThreshold")&&typeof e.integralZeroThreshold!="number"?"integralZeroThreshold: number expected":e.integralSaturationLimit!=null&&e.hasOwnProperty("integralSaturationLimit")&&typeof e.integralSaturationLimit!="number"?"integralSaturationLimit: number expected":e.resetIntegral!=null&&e.hasOwnProperty("resetIntegral")&&typeof e.resetIntegral!="boolean"?"resetIntegral: boolean expected":null},i.fromObject=function(e){if(e instanceof $root.YawPidParams)return e;let t=new $root.YawPidParams;return e.kp!=null&&(t.kp=Number(e.kp)),e.ki!=null&&(t.ki=Number(e.ki)),e.kd!=null&&(t.kd=Number(e.kd)),e.kf!=null&&(t.kf=Number(e.kf)),e.integralZeroThreshold!=null&&(t.integralZeroThreshold=Number(e.integralZeroThreshold)),e.integralSaturationLimit!=null&&(t.integralSaturationLimit=Number(e.integralSaturationLimit)),e.resetIntegral!=null&&(t.resetIntegral=!!e.resetIntegral),t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.kp=0,n.ki=0,n.kd=0,n.kf=0,n.integralZeroThreshold=0,n.integralSaturationLimit=0,n.resetIntegral=!1),e.kp!=null&&e.hasOwnProperty("kp")&&(n.kp=t.json&&!isFinite(e.kp)?String(e.kp):e.kp),e.ki!=null&&e.hasOwnProperty("ki")&&(n.ki=t.json&&!isFinite(e.ki)?String(e.ki):e.ki),e.kd!=null&&e.hasOwnProperty("kd")&&(n.kd=t.json&&!isFinite(e.kd)?String(e.kd):e.kd),e.kf!=null&&e.hasOwnProperty("kf")&&(n.kf=t.json&&!isFinite(e.kf)?String(e.kf):e.kf),e.integralZeroThreshold!=null&&e.hasOwnProperty("integralZeroThreshold")&&(n.integralZeroThreshold=t.json&&!isFinite(e.integralZeroThreshold)?String(e.integralZeroThreshold):e.integralZeroThreshold),e.integralSaturationLimit!=null&&e.hasOwnProperty("integralSaturationLimit")&&(n.integralSaturationLimit=t.json&&!isFinite(e.integralSaturationLimit)?String(e.integralSaturationLimit):e.integralSaturationLimit),e.resetIntegral!=null&&e.hasOwnProperty("resetIntegral")&&(n.resetIntegral=e.resetIntegral),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/YawPidParams"},i})();$root.Response=(()=>{function i(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}i.prototype.code=0,i.prototype.commandId=0,i.prototype.message=null;let r;return Object.defineProperty(i.prototype,"_message",{get:$util.oneOfGetter(r=["message"]),set:$util.oneOfSetter(r)}),i.create=function(t){return new i(t)},i.encode=function(t,n){return n||(n=$Writer.create()),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(8).int32(t.code),t.commandId!=null&&Object.hasOwnProperty.call(t,"commandId")&&n.uint32(16).uint32(t.commandId),t.message!=null&&Object.hasOwnProperty.call(t,"message")&&n.uint32(26).string(t.message),n},i.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},i.decode=function(t,n){t instanceof $Reader||(t=$Reader.create(t));let a=n===void 0?t.len:t.pos+n,o=new $root.Response;for(;t.pos<a;){let u=t.uint32();switch(u>>>3){case 1:{o.code=t.int32();break}case 2:{o.commandId=t.uint32();break}case 3:{o.message=t.string();break}default:t.skipType(u&7);break}}return o},i.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},i.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.code!=null&&t.hasOwnProperty("code"))switch(t.code){default:return"code: enum value expected";case 0:case 1:break}return t.commandId!=null&&t.hasOwnProperty("commandId")&&!$util.isInteger(t.commandId)?"commandId: integer expected":t.message!=null&&t.hasOwnProperty("message")&&!$util.isString(t.message)?"message: string expected":null},i.fromObject=function(t){if(t instanceof $root.Response)return t;let n=new $root.Response;switch(t.code){default:if(typeof t.code=="number"){n.code=t.code;break}break;case"OK":case 0:n.code=0;break;case"ERROR":case 1:n.code=1;break}return t.commandId!=null&&(n.commandId=t.commandId>>>0),t.message!=null&&(n.message=String(t.message)),n},i.toObject=function(t,n){n||(n={});let a={};return n.defaults&&(a.code=n.enums===String?"OK":0,a.commandId=0),t.code!=null&&t.hasOwnProperty("code")&&(a.code=n.enums===String?$root.Response.Code[t.code]===void 0?t.code:$root.Response.Code[t.code]:t.code),t.commandId!=null&&t.hasOwnProperty("commandId")&&(a.commandId=t.commandId),t.message!=null&&t.hasOwnProperty("message")&&(a.message=t.message,n.oneofs&&(a._message="message")),a},i.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},i.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/Response"},i.Code=function(){const e={},t=Object.create(e);return t[e[0]="OK"]=0,t[e[1]="ERROR"]=1,t}(),i})();$root.State=(()=>{function i(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return i.prototype.pitch=0,i.prototype.yaw=0,i.prototype.pitchRate=0,i.prototype.yawRate=0,i.prototype.leftMotorAngle=0,i.prototype.rightMotorAngle=0,i.prototype.leftMotorSpeed=0,i.prototype.rightMotorSpeed=0,i.prototype.active=!1,i.prototype.timestamp=0,i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=$Writer.create()),e.pitch!=null&&Object.hasOwnProperty.call(e,"pitch")&&t.uint32(13).float(e.pitch),e.yaw!=null&&Object.hasOwnProperty.call(e,"yaw")&&t.uint32(21).float(e.yaw),e.pitchRate!=null&&Object.hasOwnProperty.call(e,"pitchRate")&&t.uint32(29).float(e.pitchRate),e.yawRate!=null&&Object.hasOwnProperty.call(e,"yawRate")&&t.uint32(37).float(e.yawRate),e.leftMotorAngle!=null&&Object.hasOwnProperty.call(e,"leftMotorAngle")&&t.uint32(45).float(e.leftMotorAngle),e.rightMotorAngle!=null&&Object.hasOwnProperty.call(e,"rightMotorAngle")&&t.uint32(53).float(e.rightMotorAngle),e.leftMotorSpeed!=null&&Object.hasOwnProperty.call(e,"leftMotorSpeed")&&t.uint32(61).float(e.leftMotorSpeed),e.rightMotorSpeed!=null&&Object.hasOwnProperty.call(e,"rightMotorSpeed")&&t.uint32(69).float(e.rightMotorSpeed),e.active!=null&&Object.hasOwnProperty.call(e,"active")&&t.uint32(72).bool(e.active),e.timestamp!=null&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(80).uint32(e.timestamp),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let n=t===void 0?e.len:e.pos+t,a=new $root.State;for(;e.pos<n;){let o=e.uint32();switch(o>>>3){case 1:{a.pitch=e.float();break}case 2:{a.yaw=e.float();break}case 3:{a.pitchRate=e.float();break}case 4:{a.yawRate=e.float();break}case 5:{a.leftMotorAngle=e.float();break}case 6:{a.rightMotorAngle=e.float();break}case 7:{a.leftMotorSpeed=e.float();break}case 8:{a.rightMotorSpeed=e.float();break}case 9:{a.active=e.bool();break}case 10:{a.timestamp=e.uint32();break}default:e.skipType(o&7);break}}return a},i.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},i.verify=function(e){return typeof e!="object"||e===null?"object expected":e.pitch!=null&&e.hasOwnProperty("pitch")&&typeof e.pitch!="number"?"pitch: number expected":e.yaw!=null&&e.hasOwnProperty("yaw")&&typeof e.yaw!="number"?"yaw: number expected":e.pitchRate!=null&&e.hasOwnProperty("pitchRate")&&typeof e.pitchRate!="number"?"pitchRate: number expected":e.yawRate!=null&&e.hasOwnProperty("yawRate")&&typeof e.yawRate!="number"?"yawRate: number expected":e.leftMotorAngle!=null&&e.hasOwnProperty("leftMotorAngle")&&typeof e.leftMotorAngle!="number"?"leftMotorAngle: number expected":e.rightMotorAngle!=null&&e.hasOwnProperty("rightMotorAngle")&&typeof e.rightMotorAngle!="number"?"rightMotorAngle: number expected":e.leftMotorSpeed!=null&&e.hasOwnProperty("leftMotorSpeed")&&typeof e.leftMotorSpeed!="number"?"leftMotorSpeed: number expected":e.rightMotorSpeed!=null&&e.hasOwnProperty("rightMotorSpeed")&&typeof e.rightMotorSpeed!="number"?"rightMotorSpeed: number expected":e.active!=null&&e.hasOwnProperty("active")&&typeof e.active!="boolean"?"active: boolean expected":e.timestamp!=null&&e.hasOwnProperty("timestamp")&&!$util.isInteger(e.timestamp)?"timestamp: integer expected":null},i.fromObject=function(e){if(e instanceof $root.State)return e;let t=new $root.State;return e.pitch!=null&&(t.pitch=Number(e.pitch)),e.yaw!=null&&(t.yaw=Number(e.yaw)),e.pitchRate!=null&&(t.pitchRate=Number(e.pitchRate)),e.yawRate!=null&&(t.yawRate=Number(e.yawRate)),e.leftMotorAngle!=null&&(t.leftMotorAngle=Number(e.leftMotorAngle)),e.rightMotorAngle!=null&&(t.rightMotorAngle=Number(e.rightMotorAngle)),e.leftMotorSpeed!=null&&(t.leftMotorSpeed=Number(e.leftMotorSpeed)),e.rightMotorSpeed!=null&&(t.rightMotorSpeed=Number(e.rightMotorSpeed)),e.active!=null&&(t.active=!!e.active),e.timestamp!=null&&(t.timestamp=e.timestamp>>>0),t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.pitch=0,n.yaw=0,n.pitchRate=0,n.yawRate=0,n.leftMotorAngle=0,n.rightMotorAngle=0,n.leftMotorSpeed=0,n.rightMotorSpeed=0,n.active=!1,n.timestamp=0),e.pitch!=null&&e.hasOwnProperty("pitch")&&(n.pitch=t.json&&!isFinite(e.pitch)?String(e.pitch):e.pitch),e.yaw!=null&&e.hasOwnProperty("yaw")&&(n.yaw=t.json&&!isFinite(e.yaw)?String(e.yaw):e.yaw),e.pitchRate!=null&&e.hasOwnProperty("pitchRate")&&(n.pitchRate=t.json&&!isFinite(e.pitchRate)?String(e.pitchRate):e.pitchRate),e.yawRate!=null&&e.hasOwnProperty("yawRate")&&(n.yawRate=t.json&&!isFinite(e.yawRate)?String(e.yawRate):e.yawRate),e.leftMotorAngle!=null&&e.hasOwnProperty("leftMotorAngle")&&(n.leftMotorAngle=t.json&&!isFinite(e.leftMotorAngle)?String(e.leftMotorAngle):e.leftMotorAngle),e.rightMotorAngle!=null&&e.hasOwnProperty("rightMotorAngle")&&(n.rightMotorAngle=t.json&&!isFinite(e.rightMotorAngle)?String(e.rightMotorAngle):e.rightMotorAngle),e.leftMotorSpeed!=null&&e.hasOwnProperty("leftMotorSpeed")&&(n.leftMotorSpeed=t.json&&!isFinite(e.leftMotorSpeed)?String(e.leftMotorSpeed):e.leftMotorSpeed),e.rightMotorSpeed!=null&&e.hasOwnProperty("rightMotorSpeed")&&(n.rightMotorSpeed=t.json&&!isFinite(e.rightMotorSpeed)?String(e.rightMotorSpeed):e.rightMotorSpeed),e.active!=null&&e.hasOwnProperty("active")&&(n.active=e.active),e.timestamp!=null&&e.hasOwnProperty("timestamp")&&(n.timestamp=e.timestamp),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/State"},i})();const Bot2Web=$root.Bot2Web=(()=>{function i(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}i.prototype.id=0,i.prototype.response=null,i.prototype.state=null,i.prototype.physicalParams=null,i.prototype.pitchControllerParams=null,i.prototype.yawControllerParams=null,i.prototype.log=null;let r;return Object.defineProperty(i.prototype,"msg",{get:$util.oneOfGetter(r=["response","state","physicalParams","pitchControllerParams","yawControllerParams","log"]),set:$util.oneOfSetter(r)}),i.create=function(t){return new i(t)},i.encode=function(t,n){return n||(n=$Writer.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&n.uint32(8).uint32(t.id),t.response!=null&&Object.hasOwnProperty.call(t,"response")&&$root.Response.encode(t.response,n.uint32(18).fork()).ldelim(),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&$root.State.encode(t.state,n.uint32(26).fork()).ldelim(),t.physicalParams!=null&&Object.hasOwnProperty.call(t,"physicalParams")&&$root.PhysicalParams.encode(t.physicalParams,n.uint32(34).fork()).ldelim(),t.pitchControllerParams!=null&&Object.hasOwnProperty.call(t,"pitchControllerParams")&&$root.PitchControllerParams.encode(t.pitchControllerParams,n.uint32(42).fork()).ldelim(),t.yawControllerParams!=null&&Object.hasOwnProperty.call(t,"yawControllerParams")&&$root.YawControllerParams.encode(t.yawControllerParams,n.uint32(50).fork()).ldelim(),t.log!=null&&Object.hasOwnProperty.call(t,"log")&&$root.Log.encode(t.log,n.uint32(58).fork()).ldelim(),n},i.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},i.decode=function(t,n){t instanceof $Reader||(t=$Reader.create(t));let a=n===void 0?t.len:t.pos+n,o=new $root.Bot2Web;for(;t.pos<a;){let u=t.uint32();switch(u>>>3){case 1:{o.id=t.uint32();break}case 2:{o.response=$root.Response.decode(t,t.uint32());break}case 3:{o.state=$root.State.decode(t,t.uint32());break}case 4:{o.physicalParams=$root.PhysicalParams.decode(t,t.uint32());break}case 5:{o.pitchControllerParams=$root.PitchControllerParams.decode(t,t.uint32());break}case 6:{o.yawControllerParams=$root.YawControllerParams.decode(t,t.uint32());break}case 7:{o.log=$root.Log.decode(t,t.uint32());break}default:t.skipType(u&7);break}}return o},i.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},i.verify=function(t){if(typeof t!="object"||t===null)return"object expected";let n={};if(t.id!=null&&t.hasOwnProperty("id")&&!$util.isInteger(t.id))return"id: integer expected";if(t.response!=null&&t.hasOwnProperty("response")){n.msg=1;{let a=$root.Response.verify(t.response);if(a)return"response."+a}}if(t.state!=null&&t.hasOwnProperty("state")){if(n.msg===1)return"msg: multiple values";n.msg=1;{let a=$root.State.verify(t.state);if(a)return"state."+a}}if(t.physicalParams!=null&&t.hasOwnProperty("physicalParams")){if(n.msg===1)return"msg: multiple values";n.msg=1;{let a=$root.PhysicalParams.verify(t.physicalParams);if(a)return"physicalParams."+a}}if(t.pitchControllerParams!=null&&t.hasOwnProperty("pitchControllerParams")){if(n.msg===1)return"msg: multiple values";n.msg=1;{let a=$root.PitchControllerParams.verify(t.pitchControllerParams);if(a)return"pitchControllerParams."+a}}if(t.yawControllerParams!=null&&t.hasOwnProperty("yawControllerParams")){if(n.msg===1)return"msg: multiple values";n.msg=1;{let a=$root.YawControllerParams.verify(t.yawControllerParams);if(a)return"yawControllerParams."+a}}if(t.log!=null&&t.hasOwnProperty("log")){if(n.msg===1)return"msg: multiple values";n.msg=1;{let a=$root.Log.verify(t.log);if(a)return"log."+a}}return null},i.fromObject=function(t){if(t instanceof $root.Bot2Web)return t;let n=new $root.Bot2Web;if(t.id!=null&&(n.id=t.id>>>0),t.response!=null){if(typeof t.response!="object")throw TypeError(".Bot2Web.response: object expected");n.response=$root.Response.fromObject(t.response)}if(t.state!=null){if(typeof t.state!="object")throw TypeError(".Bot2Web.state: object expected");n.state=$root.State.fromObject(t.state)}if(t.physicalParams!=null){if(typeof t.physicalParams!="object")throw TypeError(".Bot2Web.physicalParams: object expected");n.physicalParams=$root.PhysicalParams.fromObject(t.physicalParams)}if(t.pitchControllerParams!=null){if(typeof t.pitchControllerParams!="object")throw TypeError(".Bot2Web.pitchControllerParams: object expected");n.pitchControllerParams=$root.PitchControllerParams.fromObject(t.pitchControllerParams)}if(t.yawControllerParams!=null){if(typeof t.yawControllerParams!="object")throw TypeError(".Bot2Web.yawControllerParams: object expected");n.yawControllerParams=$root.YawControllerParams.fromObject(t.yawControllerParams)}if(t.log!=null){if(typeof t.log!="object")throw TypeError(".Bot2Web.log: object expected");n.log=$root.Log.fromObject(t.log)}return n},i.toObject=function(t,n){n||(n={});let a={};return n.defaults&&(a.id=0),t.id!=null&&t.hasOwnProperty("id")&&(a.id=t.id),t.response!=null&&t.hasOwnProperty("response")&&(a.response=$root.Response.toObject(t.response,n),n.oneofs&&(a.msg="response")),t.state!=null&&t.hasOwnProperty("state")&&(a.state=$root.State.toObject(t.state,n),n.oneofs&&(a.msg="state")),t.physicalParams!=null&&t.hasOwnProperty("physicalParams")&&(a.physicalParams=$root.PhysicalParams.toObject(t.physicalParams,n),n.oneofs&&(a.msg="physicalParams")),t.pitchControllerParams!=null&&t.hasOwnProperty("pitchControllerParams")&&(a.pitchControllerParams=$root.PitchControllerParams.toObject(t.pitchControllerParams,n),n.oneofs&&(a.msg="pitchControllerParams")),t.yawControllerParams!=null&&t.hasOwnProperty("yawControllerParams")&&(a.yawControllerParams=$root.YawControllerParams.toObject(t.yawControllerParams,n),n.oneofs&&(a.msg="yawControllerParams")),t.log!=null&&t.hasOwnProperty("log")&&(a.log=$root.Log.toObject(t.log,n),n.oneofs&&(a.msg="log")),a},i.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},i.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/Bot2Web"},i})(),LogLevel=$root.LogLevel=(()=>{const i={},r=Object.create(i);return r[i[0]="DEBUG"]=0,r[i[1]="INFO"]=1,r[i[2]="WARN"]=2,r[i[3]="ERROR"]=3,r[i[4]="FATAL"]=4,r})();$root.Log=(()=>{function i(r){if(r)for(let e=Object.keys(r),t=0;t<e.length;++t)r[e[t]]!=null&&(this[e[t]]=r[e[t]])}return i.prototype.level=0,i.prototype.message="",i.create=function(e){return new i(e)},i.encode=function(e,t){return t||(t=$Writer.create()),e.level!=null&&Object.hasOwnProperty.call(e,"level")&&t.uint32(8).int32(e.level),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));let n=t===void 0?e.len:e.pos+t,a=new $root.Log;for(;e.pos<n;){let o=e.uint32();switch(o>>>3){case 1:{a.level=e.int32();break}case 2:{a.message=e.string();break}default:e.skipType(o&7);break}}return a},i.decodeDelimited=function(e){return e instanceof $Reader||(e=new $Reader(e)),this.decode(e,e.uint32())},i.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.level!=null&&e.hasOwnProperty("level"))switch(e.level){default:return"level: enum value expected";case 0:case 1:case 2:case 3:case 4:break}return e.message!=null&&e.hasOwnProperty("message")&&!$util.isString(e.message)?"message: string expected":null},i.fromObject=function(e){if(e instanceof $root.Log)return e;let t=new $root.Log;switch(e.level){default:if(typeof e.level=="number"){t.level=e.level;break}break;case"DEBUG":case 0:t.level=0;break;case"INFO":case 1:t.level=1;break;case"WARN":case 2:t.level=2;break;case"ERROR":case 3:t.level=3;break;case"FATAL":case 4:t.level=4;break}return e.message!=null&&(t.message=String(e.message)),t},i.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.level=t.enums===String?"DEBUG":0,n.message=""),e.level!=null&&e.hasOwnProperty("level")&&(n.level=t.enums===String?$root.LogLevel[e.level]===void 0?e.level:$root.LogLevel[e.level]:e.level),e.message!=null&&e.hasOwnProperty("message")&&(n.message=e.message),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},i.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Log"},i})();var src={exports:{}},indexLight={exports:{}},util$2={exports:{}},codegen_1=codegen;function codegen(i,r){typeof i=="string"&&(r=i,i=void 0);var e=[];function t(a){if(typeof a!="string"){var o=n();if(codegen.verbose&&console.log("codegen: "+o),o="return "+o,a){for(var u=Object.keys(a),s=new Array(u.length+1),l=new Array(u.length),c=0;c<u.length;)s[c]=u[c],l[c]=a[u[c++]];return s[c]=o,Function.apply(null,s).apply(null,l)}return Function(o)()}for(var f=new Array(arguments.length-1),h=0;h<f.length;)f[h]=arguments[++h];if(h=0,a=a.replace(/%([%dfijs])/g,function(y,m){var S=f[h++];switch(m){case"d":case"f":return String(Number(S));case"i":return String(Math.floor(S));case"j":return JSON.stringify(S);case"s":return String(S)}return"%"}),h!==f.length)throw Error("parameter count mismatch");return e.push(a),t}function n(a){return"function "+(a||r||"")+"("+(i&&i.join(",")||"")+`){
  `+e.join(`
  `)+`
}`}return t.toString=n,t}codegen.verbose=!1;var fetch_1=fetch,asPromise=aspromise,inquire=inquire_1,fs=inquire("fs");function fetch(i,r,e){return typeof r=="function"?(e=r,r={}):r||(r={}),e?!r.xhr&&fs&&fs.readFile?fs.readFile(i,function(n,a){return n&&typeof XMLHttpRequest<"u"?fetch.xhr(i,r,e):n?e(n):e(null,r.binary?a:a.toString("utf8"))}):fetch.xhr(i,r,e):asPromise(fetch,this,i,r)}fetch.xhr=function i(r,e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status!==0&&n.status!==200)return t(Error("status "+n.status));if(e.binary){var o=n.response;if(!o){o=[];for(var u=0;u<n.responseText.length;++u)o.push(n.responseText.charCodeAt(u)&255)}return t(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return t(null,n.responseText)}},e.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",r),n.send()};var path={};(function(i){var r=i,e=r.isAbsolute=function(a){return/^(?:\/|\w+:)/.test(a)},t=r.normalize=function(a){a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var o=a.split("/"),u=e(a),s="";u&&(s=o.shift()+"/");for(var l=0;l<o.length;)o[l]===".."?l>0&&o[l-1]!==".."?o.splice(--l,2):u?o.splice(l,1):++l:o[l]==="."?o.splice(l,1):++l;return s+o.join("/")};r.resolve=function(a,o,u){return u||(o=t(o)),e(o)?o:(u||(a=t(a)),(a=a.replace(/(?:\/|^)[^/]+$/,"")).length?t(a+"/"+o):o)}})(path);var types$1={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(i){var r=i,e=requireUtil(),t=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function n(a,o){var u=0,s={};for(o|=0;u<a.length;)s[t[u+o]]=a[u++];return s}r.basic=n([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=n([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",e.emptyArray,null]),r.long=n([0,0,0,1,1],7),r.mapKey=n([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=n([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types$1)),types$1}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=o;var i=requireObject();((o.prototype=Object.create(i.prototype)).constructor=o).className="Field";var r=require_enum(),e=requireTypes(),t=requireUtil(),n,a=/^required|optional|repeated$/;o.fromJSON=function(s,l){return new o(s,l.id,l.type,l.rule,l.extend,l.options,l.comment)};function o(u,s,l,c,f,h,d){if(t.isObject(c)?(d=f,h=c,c=f=void 0):t.isObject(f)&&(d=h,h=f,f=void 0),i.call(this,u,h),!t.isInteger(s)||s<0)throw TypeError("id must be a non-negative integer");if(!t.isString(l))throw TypeError("type must be a string");if(c!==void 0&&!a.test(c=c.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(f!==void 0&&!t.isString(f))throw TypeError("extend must be a string");c==="proto3_optional"&&(c="optional"),this.rule=c&&c!=="optional"?c:void 0,this.type=l,this.id=s,this.extend=f||void 0,this.required=c==="required",this.optional=!this.required,this.repeated=c==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=t.Long?e.long[l]!==void 0:!1,this.bytes=l==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=d}return Object.defineProperty(o.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),o.prototype.setOption=function(s,l,c){return s==="packed"&&(this._packed=null),i.prototype.setOption.call(this,s,l,c)},o.prototype.toJSON=function(s){var l=s?!!s.keepComments:!1;return t.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",l?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=e.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof r&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof r))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=t.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var s;t.base64.test(this.typeDefault)?t.base64.decode(this.typeDefault,s=t.newBuffer(t.base64.length(this.typeDefault)),0):t.utf8.write(this.typeDefault,s=t.newBuffer(t.utf8.length(this.typeDefault)),0),this.typeDefault=s}return this.map?this.defaultValue=t.emptyObject:this.repeated?this.defaultValue=t.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},o.d=function(s,l,c,f){return typeof l=="function"?l=t.decorateType(l).name:l&&typeof l=="object"&&(l=t.decorateEnum(l).name),function(d,y){t.decorateType(d.constructor).add(new o(y,s,l,c,{default:f}))}},o._configure=function(s){n=s},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=t;var i=requireObject();((t.prototype=Object.create(i.prototype)).constructor=t).className="OneOf";var r=requireField(),e=requireUtil();function t(a,o,u,s){if(Array.isArray(o)||(u=o,o=void 0),i.call(this,a,u),!(o===void 0||Array.isArray(o)))throw TypeError("fieldNames must be an Array");this.oneof=o||[],this.fieldsArray=[],this.comment=s}t.fromJSON=function(o,u){return new t(o,u.oneof,u.options,u.comment)},t.prototype.toJSON=function(o){var u=o?!!o.keepComments:!1;return e.toObject(["options",this.options,"oneof",this.oneof,"comment",u?this.comment:void 0])};function n(a){if(a.parent)for(var o=0;o<a.fieldsArray.length;++o)a.fieldsArray[o].parent||a.parent.add(a.fieldsArray[o])}return t.prototype.add=function(o){if(!(o instanceof r))throw TypeError("field must be a Field");return o.parent&&o.parent!==this.parent&&o.parent.remove(o),this.oneof.push(o.name),this.fieldsArray.push(o),o.partOf=this,n(this),this},t.prototype.remove=function(o){if(!(o instanceof r))throw TypeError("field must be a Field");var u=this.fieldsArray.indexOf(o);if(u<0)throw Error(o+" is not a member of "+this);return this.fieldsArray.splice(u,1),u=this.oneof.indexOf(o.name),u>-1&&this.oneof.splice(u,1),o.partOf=null,this},t.prototype.onAdd=function(o){i.prototype.onAdd.call(this,o);for(var u=this,s=0;s<this.oneof.length;++s){var l=o.get(this.oneof[s]);l&&!l.partOf&&(l.partOf=u,u.fieldsArray.push(l))}n(this)},t.prototype.onRemove=function(o){for(var u=0,s;u<this.fieldsArray.length;++u)(s=this.fieldsArray[u]).parent&&s.parent.remove(s);i.prototype.onRemove.call(this,o)},t.d=function(){for(var o=new Array(arguments.length),u=0;u<arguments.length;)o[u]=arguments[u++];return function(l,c){e.decorateType(l.constructor).add(new t(c,o)),Object.defineProperty(l,c,{get:e.oneOfGetter(o),set:e.oneOfSetter(o)})}},oneof}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=s;var i=requireObject();((s.prototype=Object.create(i.prototype)).constructor=s).className="Namespace";var r=requireField(),e=requireUtil(),t=requireOneof(),n,a,o;s.fromJSON=function(f,h){return new s(f,h.options).addJSON(h.nested)};function u(c,f){if(c&&c.length){for(var h={},d=0;d<c.length;++d)h[c[d].name]=c[d].toJSON(f);return h}}s.arrayToJSON=u,s.isReservedId=function(f,h){if(f){for(var d=0;d<f.length;++d)if(typeof f[d]!="string"&&f[d][0]<=h&&f[d][1]>h)return!0}return!1},s.isReservedName=function(f,h){if(f){for(var d=0;d<f.length;++d)if(f[d]===h)return!0}return!1};function s(c,f){i.call(this,c,f),this.nested=void 0,this._nestedArray=null}function l(c){return c._nestedArray=null,c}return Object.defineProperty(s.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=e.toArray(this.nested))}}),s.prototype.toJSON=function(f){return e.toObject(["options",this.options,"nested",u(this.nestedArray,f)])},s.prototype.addJSON=function(f){var h=this;if(f)for(var d=Object.keys(f),y=0,m;y<d.length;++y)m=f[d[y]],h.add((m.fields!==void 0?n.fromJSON:m.values!==void 0?o.fromJSON:m.methods!==void 0?a.fromJSON:m.id!==void 0?r.fromJSON:s.fromJSON)(d[y],m));return this},s.prototype.get=function(f){return this.nested&&this.nested[f]||null},s.prototype.getEnum=function(f){if(this.nested&&this.nested[f]instanceof o)return this.nested[f].values;throw Error("no such enum: "+f)},s.prototype.add=function(f){if(!(f instanceof r&&f.extend!==void 0||f instanceof n||f instanceof t||f instanceof o||f instanceof a||f instanceof s))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var h=this.get(f.name);if(h)if(h instanceof s&&f instanceof s&&!(h instanceof n||h instanceof a)){for(var d=h.nestedArray,y=0;y<d.length;++y)f.add(d[y]);this.remove(h),this.nested||(this.nested={}),f.setOptions(h.options,!0)}else throw Error("duplicate name '"+f.name+"' in "+this)}return this.nested[f.name]=f,f.onAdd(this),l(this)},s.prototype.remove=function(f){if(!(f instanceof i))throw TypeError("object must be a ReflectionObject");if(f.parent!==this)throw Error(f+" is not a member of "+this);return delete this.nested[f.name],Object.keys(this.nested).length||(this.nested=void 0),f.onRemove(this),l(this)},s.prototype.define=function(f,h){if(e.isString(f))f=f.split(".");else if(!Array.isArray(f))throw TypeError("illegal path");if(f&&f.length&&f[0]==="")throw Error("path must be relative");for(var d=this;f.length>0;){var y=f.shift();if(d.nested&&d.nested[y]){if(d=d.nested[y],!(d instanceof s))throw Error("path conflicts with non-namespace objects")}else d.add(d=new s(y))}return h&&d.addJSON(h),d},s.prototype.resolveAll=function(){for(var f=this.nestedArray,h=0;h<f.length;)f[h]instanceof s?f[h++].resolveAll():f[h++].resolve();return this.resolve()},s.prototype.lookup=function(f,h,d){if(typeof h=="boolean"?(d=h,h=void 0):h&&!Array.isArray(h)&&(h=[h]),e.isString(f)&&f.length){if(f===".")return this.root;f=f.split(".")}else if(!f.length)return this;if(f[0]==="")return this.root.lookup(f.slice(1),h);var y=this.get(f[0]);if(y){if(f.length===1){if(!h||h.indexOf(y.constructor)>-1)return y}else if(y instanceof s&&(y=y.lookup(f.slice(1),h,!0)))return y}else for(var m=0;m<this.nestedArray.length;++m)if(this._nestedArray[m]instanceof s&&(y=this._nestedArray[m].lookup(f,h,!0)))return y;return this.parent===null||d?null:this.parent.lookup(f,h)},s.prototype.lookupType=function(f){var h=this.lookup(f,[n]);if(!h)throw Error("no such type: "+f);return h},s.prototype.lookupEnum=function(f){var h=this.lookup(f,[o]);if(!h)throw Error("no such Enum '"+f+"' in "+this);return h},s.prototype.lookupTypeOrEnum=function(f){var h=this.lookup(f,[n,o]);if(!h)throw Error("no such Type or Enum '"+f+"' in "+this);return h},s.prototype.lookupService=function(f){var h=this.lookup(f,[a]);if(!h)throw Error("no such Service '"+f+"' in "+this);return h},s._configure=function(c,f,h){n=c,a=f,o=h},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=t;var i=requireField();((t.prototype=Object.create(i.prototype)).constructor=t).className="MapField";var r=requireTypes(),e=requireUtil();function t(n,a,o,u,s,l){if(i.call(this,n,a,u,void 0,void 0,s,l),!e.isString(o))throw TypeError("keyType must be a string");this.keyType=o,this.resolvedKeyType=null,this.map=!0}return t.fromJSON=function(a,o){return new t(a,o.id,o.keyType,o.type,o.options,o.comment)},t.prototype.toJSON=function(a){var o=a?!!a.keepComments:!1;return e.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",o?this.comment:void 0])},t.prototype.resolve=function(){if(this.resolved)return this;if(r.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},t.d=function(a,o,u){return typeof u=="function"?u=e.decorateType(u).name:u&&typeof u=="object"&&(u=e.decorateEnum(u).name),function(l,c){e.decorateType(l.constructor).add(new t(c,a,o,u))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=e;var i=requireObject();((e.prototype=Object.create(i.prototype)).constructor=e).className="Method";var r=requireUtil();function e(t,n,a,o,u,s,l,c,f){if(r.isObject(u)?(l=u,u=s=void 0):r.isObject(s)&&(l=s,s=void 0),!(n===void 0||r.isString(n)))throw TypeError("type must be a string");if(!r.isString(a))throw TypeError("requestType must be a string");if(!r.isString(o))throw TypeError("responseType must be a string");i.call(this,t,l),this.type=n||"rpc",this.requestType=a,this.requestStream=u?!0:void 0,this.responseType=o,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=f}return e.fromJSON=function(n,a){return new e(n,a.type,a.requestType,a.responseType,a.requestStream,a.responseStream,a.options,a.comment,a.parsedOptions)},e.prototype.toJSON=function(n){var a=n?!!n.keepComments:!1;return r.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",a?this.comment:void 0,"parsedOptions",this.parsedOptions])},e.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=n;var i=requireNamespace();((n.prototype=Object.create(i.prototype)).constructor=n).className="Service";var r=requireMethod(),e=requireUtil(),t=rpc;function n(o,u){i.call(this,o,u),this.methods={},this._methodsArray=null}n.fromJSON=function(u,s){var l=new n(u,s.options);if(s.methods)for(var c=Object.keys(s.methods),f=0;f<c.length;++f)l.add(r.fromJSON(c[f],s.methods[c[f]]));return s.nested&&l.addJSON(s.nested),l.comment=s.comment,l},n.prototype.toJSON=function(u){var s=i.prototype.toJSON.call(this,u),l=u?!!u.keepComments:!1;return e.toObject(["options",s&&s.options||void 0,"methods",i.arrayToJSON(this.methodsArray,u)||{},"nested",s&&s.nested||void 0,"comment",l?this.comment:void 0])},Object.defineProperty(n.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=e.toArray(this.methods))}});function a(o){return o._methodsArray=null,o}return n.prototype.get=function(u){return this.methods[u]||i.prototype.get.call(this,u)},n.prototype.resolveAll=function(){for(var u=this.methodsArray,s=0;s<u.length;++s)u[s].resolve();return i.prototype.resolve.call(this)},n.prototype.add=function(u){if(this.get(u.name))throw Error("duplicate name '"+u.name+"' in "+this);return u instanceof r?(this.methods[u.name]=u,u.parent=this,a(this)):i.prototype.add.call(this,u)},n.prototype.remove=function(u){if(u instanceof r){if(this.methods[u.name]!==u)throw Error(u+" is not a member of "+this);return delete this.methods[u.name],u.parent=null,a(this)}return i.prototype.remove.call(this,u)},n.prototype.create=function(u,s,l){for(var c=new t.Service(u,s,l),f=0,h;f<this.methodsArray.length;++f){var d=e.lcFirst((h=this._methodsArray[f]).resolve().name).replace(/[^$\w_]/g,"");c[d]=e.codegen(["r","c"],e.isReserved(d)?d+"_":d)("return this.rpcCall(m,q,s,r,c)")({m:h,q:h.resolvedRequestType.ctor,s:h.resolvedResponseType.ctor})}return c},service}var message=Message,util$1=requireMinimal();function Message(i){if(i)for(var r=Object.keys(i),e=0;e<r.length;++e)this[r[e]]=i[r[e]]}Message.create=function i(r){return this.$type.create(r)};Message.encode=function i(r,e){return this.$type.encode(r,e)};Message.encodeDelimited=function i(r,e){return this.$type.encodeDelimited(r,e)};Message.decode=function i(r){return this.$type.decode(r)};Message.decodeDelimited=function i(r){return this.$type.decodeDelimited(r)};Message.verify=function i(r){return this.$type.verify(r)};Message.fromObject=function i(r){return this.$type.fromObject(r)};Message.toObject=function i(r,e){return this.$type.toObject(r,e)};Message.prototype.toJSON=function i(){return this.$type.toObject(this,util$1.toJSONOptions)};var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=n;var i=require_enum(),r=requireTypes(),e=requireUtil();function t(a){return"missing required '"+a.name+"'"}function n(a){var o=e.codegen(["r","l"],a.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(a.fieldsArray.filter(function(h){return h.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");a.group&&o("if((t&7)===4)")("break"),o("switch(t>>>3){");for(var u=0;u<a.fieldsArray.length;++u){var s=a._fieldsArray[u].resolve(),l=s.resolvedType instanceof i?"int32":s.type,c="m"+e.safeProp(s.name);o("case %i: {",s.id),s.map?(o("if(%s===util.emptyObject)",c)("%s={}",c)("var c2 = r.uint32()+r.pos"),r.defaults[s.keyType]!==void 0?o("k=%j",r.defaults[s.keyType]):o("k=null"),r.defaults[l]!==void 0?o("value=%j",r.defaults[l]):o("value=null"),o("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),r.basic[l]===void 0?o("value=types[%i].decode(r,r.uint32())",u):o("value=r.%s()",l),o("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),r.long[s.keyType]!==void 0?o('%s[typeof k==="object"?util.longToHash(k):k]=value',c):o("%s[k]=value",c)):s.repeated?(o("if(!(%s&&%s.length))",c,c)("%s=[]",c),r.packed[l]!==void 0&&o("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",c,l)("}else"),r.basic[l]===void 0?o(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",c,u):o("%s.push(r.%s())",c,l)):r.basic[l]===void 0?o(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",c,u):o("%s=r.%s()",c,l),o("break")("}")}for(o("default:")("r.skipType(t&7)")("break")("}")("}"),u=0;u<a._fieldsArray.length;++u){var f=a._fieldsArray[u];f.required&&o("if(!m.hasOwnProperty(%j))",f.name)("throw util.ProtocolError(%j,{instance:m})",t(f))}return o("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=a;var i=require_enum(),r=requireUtil();function e(o,u){return o.name+": "+u+(o.repeated&&u!=="array"?"[]":o.map&&u!=="object"?"{k:"+o.keyType+"}":"")+" expected"}function t(o,u,s,l){if(u.resolvedType)if(u.resolvedType instanceof i){o("switch(%s){",l)("default:")("return%j",e(u,"enum value"));for(var c=Object.keys(u.resolvedType.values),f=0;f<c.length;++f)o("case %i:",u.resolvedType.values[c[f]]);o("break")("}")}else o("{")("var e=types[%i].verify(%s);",s,l)("if(e)")("return%j+e",u.name+".")("}");else switch(u.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.isInteger(%s))",l)("return%j",e(u,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",l,l,l,l)("return%j",e(u,"integer|Long"));break;case"float":case"double":o('if(typeof %s!=="number")',l)("return%j",e(u,"number"));break;case"bool":o('if(typeof %s!=="boolean")',l)("return%j",e(u,"boolean"));break;case"string":o("if(!util.isString(%s))",l)("return%j",e(u,"string"));break;case"bytes":o('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',l,l,l)("return%j",e(u,"buffer"));break}return o}function n(o,u,s){switch(u.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.key32Re.test(%s))",s)("return%j",e(u,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.key64Re.test(%s))",s)("return%j",e(u,"integer|Long key"));break;case"bool":o("if(!util.key2Re.test(%s))",s)("return%j",e(u,"boolean key"));break}return o}function a(o){var u=r.codegen(["m"],o.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),s=o.oneofsArray,l={};s.length&&u("var p={}");for(var c=0;c<o.fieldsArray.length;++c){var f=o._fieldsArray[c].resolve(),h="m"+r.safeProp(f.name);if(f.optional&&u("if(%s!=null&&m.hasOwnProperty(%j)){",h,f.name),f.map)u("if(!util.isObject(%s))",h)("return%j",e(f,"object"))("var k=Object.keys(%s)",h)("for(var i=0;i<k.length;++i){"),n(u,f,"k[i]"),t(u,f,c,h+"[k[i]]")("}");else if(f.repeated)u("if(!Array.isArray(%s))",h)("return%j",e(f,"array"))("for(var i=0;i<%s.length;++i){",h),t(u,f,c,h+"[i]")("}");else{if(f.partOf){var d=r.safeProp(f.partOf.name);l[f.partOf.name]===1&&u("if(p%s===1)",d)("return%j",f.partOf.name+": multiple values"),l[f.partOf.name]=1,u("p%s=1",d)}t(u,f,c,h)}f.optional&&u("}")}return u("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(i){var r=i,e=require_enum(),t=requireUtil();function n(o,u,s,l){var c=!1;if(u.resolvedType)if(u.resolvedType instanceof e){o("switch(d%s){",l);for(var f=u.resolvedType.values,h=Object.keys(f),d=0;d<h.length;++d)f[h[d]]===u.typeDefault&&!c&&(o("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',l,l,l),u.repeated||o("break"),c=!0),o("case%j:",h[d])("case %i:",f[h[d]])("m%s=%j",l,f[h[d]])("break");o("}")}else o('if(typeof d%s!=="object")',l)("throw TypeError(%j)",u.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",l,s,l);else{var y=!1;switch(u.type){case"double":case"float":o("m%s=Number(d%s)",l,l);break;case"uint32":case"fixed32":o("m%s=d%s>>>0",l,l);break;case"int32":case"sint32":case"sfixed32":o("m%s=d%s|0",l,l);break;case"uint64":y=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",l,l,y)('else if(typeof d%s==="string")',l)("m%s=parseInt(d%s,10)",l,l)('else if(typeof d%s==="number")',l)("m%s=d%s",l,l)('else if(typeof d%s==="object")',l)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",l,l,l,y?"true":"");break;case"bytes":o('if(typeof d%s==="string")',l)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",l,l,l)("else if(d%s.length >= 0)",l)("m%s=d%s",l,l);break;case"string":o("m%s=String(d%s)",l,l);break;case"bool":o("m%s=Boolean(d%s)",l,l);break}}return o}r.fromObject=function(u){var s=u.fieldsArray,l=t.codegen(["d"],u.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!s.length)return l("return new this.ctor");l("var m=new this.ctor");for(var c=0;c<s.length;++c){var f=s[c].resolve(),h=t.safeProp(f.name);f.map?(l("if(d%s){",h)('if(typeof d%s!=="object")',h)("throw TypeError(%j)",f.fullName+": object expected")("m%s={}",h)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",h),n(l,f,c,h+"[ks[i]]")("}")("}")):f.repeated?(l("if(d%s){",h)("if(!Array.isArray(d%s))",h)("throw TypeError(%j)",f.fullName+": array expected")("m%s=[]",h)("for(var i=0;i<d%s.length;++i){",h),n(l,f,c,h+"[i]")("}")("}")):(f.resolvedType instanceof e||l("if(d%s!=null){",h),n(l,f,c,h),f.resolvedType instanceof e||l("}"))}return l("return m")};function a(o,u,s,l){if(u.resolvedType)u.resolvedType instanceof e?o("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",l,s,l,l,s,l,l):o("d%s=types[%i].toObject(m%s,o)",l,s,l);else{var c=!1;switch(u.type){case"double":case"float":o("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",l,l,l,l);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o('if(typeof m%s==="number")',l)("d%s=o.longs===String?String(m%s):m%s",l,l,l)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",l,l,l,l,c?"true":"",l);break;case"bytes":o("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",l,l,l,l,l);break;default:o("d%s=m%s",l,l);break}}return o}r.toObject=function(u){var s=u.fieldsArray.slice().sort(t.compareFieldsById);if(!s.length)return t.codegen()("return {}");for(var l=t.codegen(["m","o"],u.name+"$toObject")("if(!o)")("o={}")("var d={}"),c=[],f=[],h=[],d=0;d<s.length;++d)s[d].partOf||(s[d].resolve().repeated?c:s[d].map?f:h).push(s[d]);if(c.length){for(l("if(o.arrays||o.defaults){"),d=0;d<c.length;++d)l("d%s=[]",t.safeProp(c[d].name));l("}")}if(f.length){for(l("if(o.objects||o.defaults){"),d=0;d<f.length;++d)l("d%s={}",t.safeProp(f[d].name));l("}")}if(h.length){for(l("if(o.defaults){"),d=0;d<h.length;++d){var y=h[d],m=t.safeProp(y.name);if(y.resolvedType instanceof e)l("d%s=o.enums===String?%j:%j",m,y.resolvedType.valuesById[y.typeDefault],y.typeDefault);else if(y.long)l("if(util.Long){")("var n=new util.Long(%i,%i,%j)",y.typeDefault.low,y.typeDefault.high,y.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",m)("}else")("d%s=o.longs===String?%j:%i",m,y.typeDefault.toString(),y.typeDefault.toNumber());else if(y.bytes){var S="["+Array.prototype.slice.call(y.typeDefault).join(",")+"]";l("if(o.bytes===String)d%s=%j",m,String.fromCharCode.apply(String,y.typeDefault))("else{")("d%s=%s",m,S)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",m,m)("}")}else l("d%s=%j",m,y.typeDefault)}l("}")}var _=!1;for(d=0;d<s.length;++d){var y=s[d],p=u._fieldsArray.indexOf(y),m=t.safeProp(y.name);y.map?(_||(_=!0,l("var ks2")),l("if(m%s&&(ks2=Object.keys(m%s)).length){",m,m)("d%s={}",m)("for(var j=0;j<ks2.length;++j){"),a(l,y,p,m+"[ks2[j]]")("}")):y.repeated?(l("if(m%s&&m%s.length){",m,m)("d%s=[]",m)("for(var j=0;j<m%s.length;++j){",m),a(l,y,p,m+"[j]")("}")):(l("if(m%s!=null&&m.hasOwnProperty(%j)){",m,y.name),a(l,y,p,m),y.partOf&&l("if(o.oneofs)")("d%s=%j",t.safeProp(y.partOf.name),y.name)),l("}")}return l("return d")}}(converter)),converter}var wrappers={};(function(i){var r=i,e=message;r[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var n=t["@type"].substring(t["@type"].lastIndexOf("/")+1),a=this.lookup(n);if(a){var o=t["@type"].charAt(0)==="."?t["@type"].slice(1):t["@type"];return o.indexOf("/")===-1&&(o="/"+o),this.create({type_url:o,value:a.encode(a.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,n){var a="type.googleapis.com/",o="",u="";if(n&&n.json&&t.type_url&&t.value){u=t.type_url.substring(t.type_url.lastIndexOf("/")+1),o=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var s=this.lookup(u);s&&(t=s.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof e){var l=t.$type.toObject(t,n),c=t.$type.fullName[0]==="."?t.$type.fullName.slice(1):t.$type.fullName;return o===""&&(o=a),u=o+c,l["@type"]=u,l}return this.toObject(t,n)}}})(wrappers);var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=m;var i=requireNamespace();((m.prototype=Object.create(i.prototype)).constructor=m).className="Type";var r=require_enum(),e=requireOneof(),t=requireField(),n=requireMapfield(),a=requireService(),o=message,u=reader,s=writer,l=requireUtil(),c=requireEncoder(),f=requireDecoder(),h=requireVerifier(),d=requireConverter(),y=wrappers;function m(_,p){i.call(this,_,p),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(m.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var _=Object.keys(this.fields),p=0;p<_.length;++p){var b=this.fields[_[p]],g=b.id;if(this._fieldsById[g])throw Error("duplicate id "+g+" in "+this);this._fieldsById[g]=b}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=l.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=l.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=m.generateConstructor(this)())},set:function(_){var p=_.prototype;p instanceof o||((_.prototype=new o).constructor=_,l.merge(_.prototype,p)),_.$type=_.prototype.$type=this,l.merge(_,o,!0),this._ctor=_;for(var b=0;b<this.fieldsArray.length;++b)this._fieldsArray[b].resolve();var g={};for(b=0;b<this.oneofsArray.length;++b)g[this._oneofsArray[b].resolve().name]={get:l.oneOfGetter(this._oneofsArray[b].oneof),set:l.oneOfSetter(this._oneofsArray[b].oneof)};b&&Object.defineProperties(_.prototype,g)}}}),m.generateConstructor=function(p){for(var b=l.codegen(["p"],p.name),g=0,$;g<p.fieldsArray.length;++g)($=p._fieldsArray[g]).map?b("this%s={}",l.safeProp($.name)):$.repeated&&b("this%s=[]",l.safeProp($.name));return b("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function S(_){return _._fieldsById=_._fieldsArray=_._oneofsArray=null,delete _.encode,delete _.decode,delete _.verify,_}return m.fromJSON=function(p,b){var g=new m(p,b.options);g.extensions=b.extensions,g.reserved=b.reserved;for(var $=Object.keys(b.fields),P=0;P<$.length;++P)g.add((typeof b.fields[$[P]].keyType<"u"?n.fromJSON:t.fromJSON)($[P],b.fields[$[P]]));if(b.oneofs)for($=Object.keys(b.oneofs),P=0;P<$.length;++P)g.add(e.fromJSON($[P],b.oneofs[$[P]]));if(b.nested)for($=Object.keys(b.nested),P=0;P<$.length;++P){var E=b.nested[$[P]];g.add((E.id!==void 0?t.fromJSON:E.fields!==void 0?m.fromJSON:E.values!==void 0?r.fromJSON:E.methods!==void 0?a.fromJSON:i.fromJSON)($[P],E))}return b.extensions&&b.extensions.length&&(g.extensions=b.extensions),b.reserved&&b.reserved.length&&(g.reserved=b.reserved),b.group&&(g.group=!0),b.comment&&(g.comment=b.comment),g},m.prototype.toJSON=function(p){var b=i.prototype.toJSON.call(this,p),g=p?!!p.keepComments:!1;return l.toObject(["options",b&&b.options||void 0,"oneofs",i.arrayToJSON(this.oneofsArray,p),"fields",i.arrayToJSON(this.fieldsArray.filter(function($){return!$.declaringField}),p)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",b&&b.nested||void 0,"comment",g?this.comment:void 0])},m.prototype.resolveAll=function(){for(var p=this.fieldsArray,b=0;b<p.length;)p[b++].resolve();var g=this.oneofsArray;for(b=0;b<g.length;)g[b++].resolve();return i.prototype.resolveAll.call(this)},m.prototype.get=function(p){return this.fields[p]||this.oneofs&&this.oneofs[p]||this.nested&&this.nested[p]||null},m.prototype.add=function(p){if(this.get(p.name))throw Error("duplicate name '"+p.name+"' in "+this);if(p instanceof t&&p.extend===void 0){if(this._fieldsById?this._fieldsById[p.id]:this.fieldsById[p.id])throw Error("duplicate id "+p.id+" in "+this);if(this.isReservedId(p.id))throw Error("id "+p.id+" is reserved in "+this);if(this.isReservedName(p.name))throw Error("name '"+p.name+"' is reserved in "+this);return p.parent&&p.parent.remove(p),this.fields[p.name]=p,p.message=this,p.onAdd(this),S(this)}return p instanceof e?(this.oneofs||(this.oneofs={}),this.oneofs[p.name]=p,p.onAdd(this),S(this)):i.prototype.add.call(this,p)},m.prototype.remove=function(p){if(p instanceof t&&p.extend===void 0){if(!this.fields||this.fields[p.name]!==p)throw Error(p+" is not a member of "+this);return delete this.fields[p.name],p.parent=null,p.onRemove(this),S(this)}if(p instanceof e){if(!this.oneofs||this.oneofs[p.name]!==p)throw Error(p+" is not a member of "+this);return delete this.oneofs[p.name],p.parent=null,p.onRemove(this),S(this)}return i.prototype.remove.call(this,p)},m.prototype.isReservedId=function(p){return i.isReservedId(this.reserved,p)},m.prototype.isReservedName=function(p){return i.isReservedName(this.reserved,p)},m.prototype.create=function(p){return new this.ctor(p)},m.prototype.setup=function(){for(var p=this.fullName,b=[],g=0;g<this.fieldsArray.length;++g)b.push(this._fieldsArray[g].resolve().resolvedType);this.encode=c(this)({Writer:s,types:b,util:l}),this.decode=f(this)({Reader:u,types:b,util:l}),this.verify=h(this)({types:b,util:l}),this.fromObject=d.fromObject(this)({types:b,util:l}),this.toObject=d.toObject(this)({types:b,util:l});var $=y[p];if($){var P=Object.create(this);P.fromObject=this.fromObject,this.fromObject=$.fromObject.bind(P),P.toObject=this.toObject,this.toObject=$.toObject.bind(P)}return this},m.prototype.encode=function(p,b){return this.setup().encode(p,b)},m.prototype.encodeDelimited=function(p,b){return this.encode(p,b&&b.len?b.fork():b).ldelim()},m.prototype.decode=function(p,b){return this.setup().decode(p,b)},m.prototype.decodeDelimited=function(p){return p instanceof u||(p=u.create(p)),this.decode(p,p.uint32())},m.prototype.verify=function(p){return this.setup().verify(p)},m.prototype.fromObject=function(p){return this.setup().fromObject(p)},m.prototype.toObject=function(p,b){return this.setup().toObject(p,b)},m.d=function(p){return function(g){l.decorateType(g,p)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=s;var i=requireNamespace();((s.prototype=Object.create(i.prototype)).constructor=s).className="Root";var r=requireField(),e=require_enum(),t=requireOneof(),n=requireUtil(),a,o,u;function s(h){i.call(this,"",h),this.deferred=[],this.files=[]}s.fromJSON=function(d,y){return y||(y=new s),d.options&&y.setOptions(d.options),y.addJSON(d.nested)},s.prototype.resolvePath=n.path.resolve,s.prototype.fetch=n.fetch;function l(){}s.prototype.load=function h(d,y,m){typeof y=="function"&&(m=y,y=void 0);var S=this;if(!m)return n.asPromise(h,S,d,y);var _=m===l;function p(A,C){if(m){if(_)throw A;var q=m;m=null,q(A,C)}}function b(A){var C=A.lastIndexOf("google/protobuf/");if(C>-1){var q=A.substring(C);if(q in u)return q}return null}function g(A,C){try{if(n.isString(C)&&C.charAt(0)==="{"&&(C=JSON.parse(C)),!n.isString(C))S.setOptions(C.options).addJSON(C.nested);else{o.filename=A;var q=o(C,S,y),x,M=0;if(q.imports)for(;M<q.imports.length;++M)(x=b(q.imports[M])||S.resolvePath(A,q.imports[M]))&&$(x);if(q.weakImports)for(M=0;M<q.weakImports.length;++M)(x=b(q.weakImports[M])||S.resolvePath(A,q.weakImports[M]))&&$(x,!0)}}catch(F){p(F)}!_&&!P&&p(null,S)}function $(A,C){if(A=b(A)||A,!(S.files.indexOf(A)>-1)){if(S.files.push(A),A in u){_?g(A,u[A]):(++P,setTimeout(function(){--P,g(A,u[A])}));return}if(_){var q;try{q=n.fs.readFileSync(A).toString("utf8")}catch(x){C||p(x);return}g(A,q)}else++P,S.fetch(A,function(x,M){if(--P,!!m){if(x){C?P||p(null,S):p(x);return}g(A,M)}})}}var P=0;n.isString(d)&&(d=[d]);for(var E=0,B;E<d.length;++E)(B=S.resolvePath("",d[E]))&&$(B);if(_)return S;P||p(null,S)},s.prototype.loadSync=function(d,y){if(!n.isNode)throw Error("not supported");return this.load(d,y,l)},s.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(d){return"'extend "+d.extend+"' in "+d.parent.fullName}).join(", "));return i.prototype.resolveAll.call(this)};var c=/^[A-Z]/;function f(h,d){var y=d.parent.lookup(d.extend);if(y){var m=new r(d.fullName,d.id,d.type,d.rule,void 0,d.options);return y.get(m.name)||(m.declaringField=d,d.extensionField=m,y.add(m)),!0}return!1}return s.prototype._handleAdd=function(d){if(d instanceof r)d.extend!==void 0&&!d.extensionField&&(f(this,d)||this.deferred.push(d));else if(d instanceof e)c.test(d.name)&&(d.parent[d.name]=d.values);else if(!(d instanceof t)){if(d instanceof a)for(var y=0;y<this.deferred.length;)f(this,this.deferred[y])?this.deferred.splice(y,1):++y;for(var m=0;m<d.nestedArray.length;++m)this._handleAdd(d._nestedArray[m]);c.test(d.name)&&(d.parent[d.name]=d)}},s.prototype._handleRemove=function(d){if(d instanceof r){if(d.extend!==void 0)if(d.extensionField)d.extensionField.parent.remove(d.extensionField),d.extensionField=null;else{var y=this.deferred.indexOf(d);y>-1&&this.deferred.splice(y,1)}}else if(d instanceof e)c.test(d.name)&&delete d.parent[d.name];else if(d instanceof i){for(var m=0;m<d.nestedArray.length;++m)this._handleRemove(d._nestedArray[m]);c.test(d.name)&&delete d.parent[d.name]}},s._configure=function(h,d,y){a=h,o=d,u=y},root}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$2.exports;hasRequiredUtil=1;var i=util$2.exports=requireMinimal(),r=roots,e,t;i.codegen=codegen_1,i.fetch=fetch_1,i.path=path,i.fs=i.inquire("fs"),i.toArray=function(l){if(l){for(var c=Object.keys(l),f=new Array(c.length),h=0;h<c.length;)f[h]=l[c[h++]];return f}return[]},i.toObject=function(l){for(var c={},f=0;f<l.length;){var h=l[f++],d=l[f++];d!==void 0&&(c[h]=d)}return c};var n=/\\/g,a=/"/g;i.isReserved=function(l){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(l)},i.safeProp=function(l){return!/^[$\w_]+$/.test(l)||i.isReserved(l)?'["'+l.replace(n,"\\\\").replace(a,'\\"')+'"]':"."+l},i.ucFirst=function(l){return l.charAt(0).toUpperCase()+l.substring(1)};var o=/_([a-z])/g;i.camelCase=function(l){return l.substring(0,1)+l.substring(1).replace(o,function(c,f){return f.toUpperCase()})},i.compareFieldsById=function(l,c){return l.id-c.id},i.decorateType=function(l,c){if(l.$type)return c&&l.$type.name!==c&&(i.decorateRoot.remove(l.$type),l.$type.name=c,i.decorateRoot.add(l.$type)),l.$type;e||(e=requireType());var f=new e(c||l.name);return i.decorateRoot.add(f),f.ctor=l,Object.defineProperty(l,"$type",{value:f,enumerable:!1}),Object.defineProperty(l.prototype,"$type",{value:f,enumerable:!1}),f};var u=0;return i.decorateEnum=function(l){if(l.$type)return l.$type;t||(t=require_enum());var c=new t("Enum"+u++,l);return i.decorateRoot.add(c),Object.defineProperty(l,"$type",{value:c,enumerable:!1}),c},i.setProperty=function(l,c,f){function h(d,y,m){var S=y.shift();if(S==="__proto__"||S==="prototype")return d;if(y.length>0)d[S]=h(d[S]||{},y,m);else{var _=d[S];_&&(m=[].concat(_).concat(m)),d[S]=m}return d}if(typeof l!="object")throw TypeError("dst must be an object");if(!c)throw TypeError("path must be specified");return c=c.split("."),h(l,c,f)},Object.defineProperty(i,"decorateRoot",{get:function(){return r.decorated||(r.decorated=new(requireRoot()))}}),util$2.exports}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=e,e.className="ReflectionObject";var i=requireUtil(),r;function e(t,n){if(!i.isString(t))throw TypeError("name must be a string");if(n&&!i.isObject(n))throw TypeError("options must be an object");this.options=n,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(e.prototype,{root:{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],n=this.parent;n;)t.unshift(n.name),n=n.parent;return t.join(".")}}}),e.prototype.toJSON=function(){throw Error()},e.prototype.onAdd=function(n){this.parent&&this.parent!==n&&this.parent.remove(this),this.parent=n,this.resolved=!1;var a=n.root;a instanceof r&&a._handleAdd(this)},e.prototype.onRemove=function(n){var a=n.root;a instanceof r&&a._handleRemove(this),this.parent=null,this.resolved=!1},e.prototype.resolve=function(){return this.resolved?this:(this.root instanceof r&&(this.resolved=!0),this)},e.prototype.getOption=function(n){if(this.options)return this.options[n]},e.prototype.setOption=function(n,a,o){return(!o||!this.options||this.options[n]===void 0)&&((this.options||(this.options={}))[n]=a),this},e.prototype.setParsedOption=function(n,a,o){this.parsedOptions||(this.parsedOptions=[]);var u=this.parsedOptions;if(o){var s=u.find(function(f){return Object.prototype.hasOwnProperty.call(f,n)});if(s){var l=s[n];i.setProperty(l,o,a)}else s={},s[n]=i.setProperty({},o,a),u.push(s)}else{var c={};c[n]=a,u.push(c)}return this},e.prototype.setOptions=function(n,a){if(n)for(var o=Object.keys(n),u=0;u<o.length;++u)this.setOption(o[u],n[o[u]],a);return this},e.prototype.toString=function(){var n=this.constructor.className,a=this.fullName;return a.length?n+" "+a:n},e._configure=function(t){r=t},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=t;var i=requireObject();((t.prototype=Object.create(i.prototype)).constructor=t).className="Enum";var r=requireNamespace(),e=requireUtil();function t(n,a,o,u,s,l){if(i.call(this,n,o),a&&typeof a!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=u,this.comments=s||{},this.valuesOptions=l,this.reserved=void 0,a)for(var c=Object.keys(a),f=0;f<c.length;++f)typeof a[c[f]]=="number"&&(this.valuesById[this.values[c[f]]=a[c[f]]]=c[f])}return t.fromJSON=function(a,o){var u=new t(a,o.values,o.options,o.comment,o.comments);return u.reserved=o.reserved,u},t.prototype.toJSON=function(a){var o=a?!!a.keepComments:!1;return e.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",o?this.comment:void 0,"comments",o?this.comments:void 0])},t.prototype.add=function(a,o,u,s){if(!e.isString(a))throw TypeError("name must be a string");if(!e.isInteger(o))throw TypeError("id must be an integer");if(this.values[a]!==void 0)throw Error("duplicate name '"+a+"' in "+this);if(this.isReservedId(o))throw Error("id "+o+" is reserved in "+this);if(this.isReservedName(a))throw Error("name '"+a+"' is reserved in "+this);if(this.valuesById[o]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+o+" in "+this);this.values[a]=o}else this.valuesById[this.values[a]=o]=a;return s&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[a]=s||null),this.comments[a]=u||null,this},t.prototype.remove=function(a){if(!e.isString(a))throw TypeError("name must be a string");var o=this.values[a];if(o==null)throw Error("name '"+a+"' does not exist in "+this);return delete this.valuesById[o],delete this.values[a],delete this.comments[a],this.valuesOptions&&delete this.valuesOptions[a],this},t.prototype.isReservedId=function(a){return r.isReservedId(this.reserved,a)},t.prototype.isReservedName=function(a){return r.isReservedName(this.reserved,a)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=n;var i=require_enum(),r=requireTypes(),e=requireUtil();function t(a,o,u,s){return o.resolvedType.group?a("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",u,s,(o.id<<3|3)>>>0,(o.id<<3|4)>>>0):a("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",u,s,(o.id<<3|2)>>>0)}function n(a){for(var o=e.codegen(["m","w"],a.name+"$encode")("if(!w)")("w=Writer.create()"),u,s,l=a.fieldsArray.slice().sort(e.compareFieldsById),u=0;u<l.length;++u){var c=l[u].resolve(),f=a._fieldsArray.indexOf(c),h=c.resolvedType instanceof i?"int32":c.type,d=r.basic[h];s="m"+e.safeProp(c.name),c.map?(o("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",s,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",s)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|r.mapKey[c.keyType],c.keyType),d===void 0?o("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",f,s):o(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,h,s),o("}")("}")):c.repeated?(o("if(%s!=null&&%s.length){",s,s),c.packed&&r.packed[h]!==void 0?o("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",s)("w.%s(%s[i])",h,s)("w.ldelim()"):(o("for(var i=0;i<%s.length;++i)",s),d===void 0?t(o,c,f,s+"[i]"):o("w.uint32(%i).%s(%s[i])",(c.id<<3|d)>>>0,h,s)),o("}")):(c.optional&&o("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",s,c.name),d===void 0?t(o,c,f,s):o("w.uint32(%i).%s(%s)",(c.id<<3|d)>>>0,h,s))}return o("return w")}return encoder_1}var protobuf$2=indexLight.exports=indexMinimal;protobuf$2.build="light";function load(i,r,e){return typeof r=="function"?(e=r,r=new protobuf$2.Root):r||(r=new protobuf$2.Root),r.load(i,e)}protobuf$2.load=load;function loadSync(i,r){return r||(r=new protobuf$2.Root),r.loadSync(i)}protobuf$2.loadSync=loadSync;protobuf$2.encoder=requireEncoder();protobuf$2.decoder=requireDecoder();protobuf$2.verifier=requireVerifier();protobuf$2.converter=requireConverter();protobuf$2.ReflectionObject=requireObject();protobuf$2.Namespace=requireNamespace();protobuf$2.Root=requireRoot();protobuf$2.Enum=require_enum();protobuf$2.Type=requireType();protobuf$2.Field=requireField();protobuf$2.OneOf=requireOneof();protobuf$2.MapField=requireMapfield();protobuf$2.Service=requireService();protobuf$2.Method=requireMethod();protobuf$2.Message=message;protobuf$2.wrappers=wrappers;protobuf$2.types=requireTypes();protobuf$2.util=requireUtil();protobuf$2.ReflectionObject._configure(protobuf$2.Root);protobuf$2.Namespace._configure(protobuf$2.Type,protobuf$2.Service,protobuf$2.Enum);protobuf$2.Root._configure(protobuf$2.Type);protobuf$2.Field._configure(protobuf$2.Type);var indexLightExports=indexLight.exports,tokenize_1=tokenize$1,delimRe=/[\s{}=;:[\],'"()<>]/g,stringDoubleRe=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,stringSingleRe=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,setCommentRe=/^ *[*/]+ */,setCommentAltRe=/^\s*\*?\/*/,setCommentSplitRe=/\n/g,whitespaceRe=/\s/,unescapeRe=/\\(.?)/g,unescapeMap={0:"\0",r:"\r",n:`
`,t:"	"};function unescape(i){return i.replace(unescapeRe,function(r,e){switch(e){case"\\":case"":return e;default:return unescapeMap[e]||""}})}tokenize$1.unescape=unescape;function tokenize$1(i,r){i=i.toString();var e=0,t=i.length,n=1,a=0,o={},u=[],s=null;function l(g){return Error("illegal "+g+" (line "+n+")")}function c(){var g=s==="'"?stringSingleRe:stringDoubleRe;g.lastIndex=e-1;var $=g.exec(i);if(!$)throw l("string");return e=g.lastIndex,S(s),s=null,unescape($[1])}function f(g){return i.charAt(g)}function h(g,$,P){var E={type:i.charAt(g++),lineEmpty:!1,leading:P},B;r?B=2:B=3;var A=g-B,C;do if(--A<0||(C=i.charAt(A))===`
`){E.lineEmpty=!0;break}while(C===" "||C==="	");for(var q=i.substring(g,$).split(setCommentSplitRe),x=0;x<q.length;++x)q[x]=q[x].replace(r?setCommentAltRe:setCommentRe,"").trim();E.text=q.join(`
`).trim(),o[n]=E,a=n}function d(g){var $=y(g),P=i.substring(g,$),E=/^\s*\/\//.test(P);return E}function y(g){for(var $=g;$<t&&f($)!==`
`;)$++;return $}function m(){if(u.length>0)return u.shift();if(s)return c();var g,$,P,E,B,A=e===0;do{if(e===t)return null;for(g=!1;whitespaceRe.test(P=f(e));)if(P===`
`&&(A=!0,++n),++e===t)return null;if(f(e)==="/"){if(++e===t)throw l("comment");if(f(e)==="/")if(r){if(E=e,B=!1,d(e-1)){B=!0;do if(e=y(e),e===t||(e++,!A))break;while(d(e))}else e=Math.min(t,y(e)+1);B&&(h(E,e,A),A=!0),n++,g=!0}else{for(B=f(E=e+1)==="/";f(++e)!==`
`;)if(e===t)return null;++e,B&&(h(E,e-1,A),A=!0),++n,g=!0}else if((P=f(e))==="*"){E=e+1,B=r||f(E)==="*";do{if(P===`
`&&++n,++e===t)throw l("comment");$=P,P=f(e)}while($!=="*"||P!=="/");++e,B&&(h(E,e-2,A),A=!0),g=!0}else return"/"}}while(g);var C=e;delimRe.lastIndex=0;var q=delimRe.test(f(C++));if(!q)for(;C<t&&!delimRe.test(f(C));)++C;var x=i.substring(e,e=C);return(x==='"'||x==="'")&&(s=x),x}function S(g){u.push(g)}function _(){if(!u.length){var g=m();if(g===null)return null;S(g)}return u[0]}function p(g,$){var P=_(),E=P===g;if(E)return m(),!0;if(!$)throw l("token '"+P+"', '"+g+"' expected");return!1}function b(g){var $=null,P;return g===void 0?(P=o[n-1],delete o[n-1],P&&(r||P.type==="*"||P.lineEmpty)&&($=P.leading?P.text:null)):(a<g&&_(),P=o[g],delete o[g],P&&!P.lineEmpty&&(r||P.type==="/")&&($=P.leading?null:P.text)),$}return Object.defineProperty({next:m,peek:_,push:S,skip:p,cmnt:b},"line",{get:function(){return n}})}var parse_1=parse;parse.filename=null;parse.defaults={keepCase:!1};var tokenize=tokenize_1,Root=requireRoot(),Type=requireType(),Field=requireField(),MapField=requireMapfield(),OneOf=requireOneof(),Enum=require_enum(),Service=requireService(),Method=requireMethod(),types=requireTypes(),util=requireUtil(),base10Re=/^[1-9][0-9]*$/,base10NegRe=/^-?[1-9][0-9]*$/,base16Re=/^0[x][0-9a-fA-F]+$/,base16NegRe=/^-?0[x][0-9a-fA-F]+$/,base8Re=/^0[0-7]+$/,base8NegRe=/^-?0[0-7]+$/,numberRe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,nameRe=/^[a-zA-Z_][a-zA-Z_0-9]*$/,typeRefRe=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,fqTypeRefRe=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function parse(i,r,e){r instanceof Root||(e=r,r=new Root),e||(e=parse.defaults);var t=e.preferTrailingComment||!1,n=tokenize(i,e.alternateCommentMode||!1),a=n.next,o=n.push,u=n.peek,s=n.skip,l=n.cmnt,c=!0,f,h,d,y,m=!1,S=r,_=e.keepCase?function(v){return v}:util.camelCase;function p(v,w,O){var k=parse.filename;return O||(parse.filename=null),Error("illegal "+(w||"token")+" '"+v+"' ("+(k?k+", ":"")+"line "+n.line+")")}function b(){var v=[],w;do{if((w=a())!=='"'&&w!=="'")throw p(w);v.push(a()),s(w),w=u()}while(w==='"'||w==="'");return v.join("")}function g(v){var w=a();switch(w){case"'":case'"':return o(w),b();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return P(w,!0)}catch{if(v&&typeRefRe.test(w))return w;throw p(w,"value")}}function $(v,w){var O,k;do w&&((O=u())==='"'||O==="'")?v.push(b()):v.push([k=E(a()),s("to",!0)?E(a()):k]);while(s(",",!0));s(";")}function P(v,w){var O=1;switch(v.charAt(0)==="-"&&(O=-1,v=v.substring(1)),v){case"inf":case"INF":case"Inf":return O*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(base10Re.test(v))return O*parseInt(v,10);if(base16Re.test(v))return O*parseInt(v,16);if(base8Re.test(v))return O*parseInt(v,8);if(numberRe.test(v))return O*parseFloat(v);throw p(v,"number",w)}function E(v,w){switch(v){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!w&&v.charAt(0)==="-")throw p(v,"id");if(base10NegRe.test(v))return parseInt(v,10);if(base16NegRe.test(v))return parseInt(v,16);if(base8NegRe.test(v))return parseInt(v,8);throw p(v,"id")}function B(){if(f!==void 0)throw p("package");if(f=a(),!typeRefRe.test(f))throw p(f,"name");S=S.define(f),s(";")}function A(){var v=u(),w;switch(v){case"weak":w=d||(d=[]),a();break;case"public":a();default:w=h||(h=[]);break}v=b(),s(";"),w.push(v)}function C(){if(s("="),y=b(),m=y==="proto3",!m&&y!=="proto2")throw p(y,"syntax");s(";")}function q(v,w){switch(w){case"option":return I(v,w),s(";"),!0;case"message":return M(v,w),!0;case"enum":return G(v,w),!0;case"service":return ee(v,w),!0;case"extend":return re(v,w),!0}return!1}function x(v,w,O){var k=n.line;if(v&&(typeof v.comment!="string"&&(v.comment=l()),v.filename=parse.filename),s("{",!0)){for(var R;(R=a())!=="}";)w(R);s(";",!0)}else O&&O(),s(";"),v&&(typeof v.comment!="string"||t)&&(v.comment=l(k)||v.comment)}function M(v,w){if(!nameRe.test(w=a()))throw p(w,"type name");var O=new Type(w);x(O,function(R){if(!q(O,R))switch(R){case"map":H(O);break;case"required":case"repeated":F(O,R);break;case"optional":m?F(O,"proto3_optional"):F(O,"optional");break;case"oneof":K(O,R);break;case"extensions":$(O.extensions||(O.extensions=[]));break;case"reserved":$(O.reserved||(O.reserved=[]),!0);break;default:if(!m||!typeRefRe.test(R))throw p(R);o(R),F(O,"optional");break}}),v.add(O)}function F(v,w,O){var k=a();if(k==="group"){Y(v,w);return}for(;k.endsWith(".")||u().startsWith(".");)k+=a();if(!typeRefRe.test(k))throw p(k,"type");var R=a();if(!nameRe.test(R))throw p(R,"name");R=_(R),s("=");var T=new Field(R,E(a()),k,w,O);if(x(T,function(j){if(j==="option")I(T,j),s(";");else throw p(j)},function(){U(T)}),w==="proto3_optional"){var N=new OneOf("_"+R);T.setOption("proto3_optional",!0),N.add(T),v.add(N)}else v.add(T);!m&&T.repeated&&(types.packed[k]!==void 0||types.basic[k]===void 0)&&T.setOption("packed",!1,!0)}function Y(v,w){var O=a();if(!nameRe.test(O))throw p(O,"name");var k=util.lcFirst(O);O===k&&(O=util.ucFirst(O)),s("=");var R=E(a()),T=new Type(O);T.group=!0;var N=new Field(k,R,O,w);N.filename=parse.filename,x(T,function(j){switch(j){case"option":I(T,j),s(";");break;case"required":case"repeated":F(T,j);break;case"optional":m?F(T,"proto3_optional"):F(T,"optional");break;case"message":M(T,j);break;case"enum":G(T,j);break;default:throw p(j)}}),v.add(T).add(N)}function H(v){s("<");var w=a();if(types.mapKey[w]===void 0)throw p(w,"type");s(",");var O=a();if(!typeRefRe.test(O))throw p(O,"type");s(">");var k=a();if(!nameRe.test(k))throw p(k,"name");s("=");var R=new MapField(_(k),E(a()),w,O);x(R,function(N){if(N==="option")I(R,N),s(";");else throw p(N)},function(){U(R)}),v.add(R)}function K(v,w){if(!nameRe.test(w=a()))throw p(w,"name");var O=new OneOf(_(w));x(O,function(R){R==="option"?(I(O,R),s(";")):(o(R),F(O,"optional"))}),v.add(O)}function G(v,w){if(!nameRe.test(w=a()))throw p(w,"name");var O=new Enum(w);x(O,function(R){switch(R){case"option":I(O,R),s(";");break;case"reserved":$(O.reserved||(O.reserved=[]),!0);break;default:X(O,R)}}),v.add(O)}function X(v,w){if(!nameRe.test(w))throw p(w,"name");s("=");var O=E(a(),!0),k={options:void 0};k.setOption=function(R,T){this.options===void 0&&(this.options={}),this.options[R]=T},x(k,function(T){if(T==="option")I(k,T),s(";");else throw p(T)},function(){U(k)}),v.add(w,O,k.comment,k.options)}function I(v,w){var O=s("(",!0);if(!typeRefRe.test(w=a()))throw p(w,"name");var k=w,R=k,T;O&&(s(")"),k="("+k+")",R=k,w=u(),fqTypeRefRe.test(w)&&(T=w.slice(1),k+=w,a())),s("=");var N=z(v,k);Q(v,R,N,T)}function z(v,w){if(s("{",!0)){for(var O={};!s("}",!0);){if(!nameRe.test(L=a()))throw p(L,"name");if(L===null)throw p(L,"end of input");var k,R=L;if(s(":",!0),u()==="{")k=z(v,w+"."+L);else if(u()==="["){k=[];var T;if(s("[",!0)){do T=g(!0),k.push(T);while(s(",",!0));s("]"),typeof T<"u"&&V(v,w+"."+L,T)}}else k=g(!0),V(v,w+"."+L,k);var N=O[R];N&&(k=[].concat(N).concat(k)),O[R]=k,s(",",!0),s(";",!0)}return O}var D=g(!0);return V(v,w,D),D}function V(v,w,O){v.setOption&&v.setOption(w,O)}function Q(v,w,O,k){v.setParsedOption&&v.setParsedOption(w,O,k)}function U(v){if(s("[",!0)){do I(v,"option");while(s(",",!0));s("]")}return v}function ee(v,w){if(!nameRe.test(w=a()))throw p(w,"service name");var O=new Service(w);x(O,function(R){if(!q(O,R))if(R==="rpc")te(O,R);else throw p(R)}),v.add(O)}function te(v,w){var O=l(),k=w;if(!nameRe.test(w=a()))throw p(w,"name");var R=w,T,N,D,j;if(s("("),s("stream",!0)&&(N=!0),!typeRefRe.test(w=a())||(T=w,s(")"),s("returns"),s("("),s("stream",!0)&&(j=!0),!typeRefRe.test(w=a())))throw p(w);D=w,s(")");var J=new Method(R,k,T,D,N,j);J.comment=O,x(J,function(Z){if(Z==="option")I(J,Z),s(";");else throw p(Z)}),v.add(J)}function re(v,w){if(!typeRefRe.test(w=a()))throw p(w,"reference");var O=w;x(null,function(R){switch(R){case"required":case"repeated":F(v,R,O);break;case"optional":m?F(v,"proto3_optional",O):F(v,"optional",O);break;default:if(!m||!typeRefRe.test(R))throw p(R);o(R),F(v,"optional",O);break}})}for(var L;(L=a())!==null;)switch(L){case"package":if(!c)throw p(L);B();break;case"import":if(!c)throw p(L);A();break;case"syntax":if(!c)throw p(L);C();break;case"option":I(S,L),s(";");break;default:if(q(S,L)){c=!1;continue}throw p(L)}return parse.filename=null,{package:f,imports:h,weakImports:d,syntax:y,root:r}}var common_1=common,commonRe=/\/|\./;function common(i,r){commonRe.test(i)||(i="google/protobuf/"+i+".proto",r={nested:{google:{nested:{protobuf:{nested:r}}}}}),common[i]=r}common("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var timeType;common("duration",{Duration:timeType={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});common("timestamp",{Timestamp:timeType});common("empty",{Empty:{fields:{}}});common("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});common("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});common("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});common.get=function i(r){return common[r]||null};var protobuf$1=src.exports=indexLightExports;protobuf$1.build="full";protobuf$1.tokenize=tokenize_1;protobuf$1.parse=parse_1;protobuf$1.common=common_1;protobuf$1.Root._configure(protobuf$1.Type,protobuf$1.parse,protobuf$1.common);var srcExports=src.exports,protobufjs=srcExports;const protobuf=getDefaultExportFromCjs(protobufjs);class ResponsePromise{constructor(r,e=100){W(this,"command_id");W(this,"handled");W(this,"promise");W(this,"accept",()=>{});W(this,"reject",()=>{});this.command_id=r,this.handled=!1,this.promise=new Promise((t,n)=>{this.accept=t,this.reject=n,setTimeout(()=>{n(new Error("Timed out waiting for response to message with ID "+r.toString()))},e)}),this.promise.then(()=>{this.handled=!0})}}const next_command_id=writable(0);function get_next_id(){let i=0;return next_command_id.update(r=>(i=r,r+1)),i}const response_promises=writable([]);async function send_message(i,r=100){const e=get_store_value(websocket_state);if(!e.connected||!e.connection)throw new Error("Not connected to the robot.");if(!i.id&&i.id!==0)throw new Error("Message ID is required.");const t=new ResponsePromise(i.id,r);response_promises.update(a=>[...a,t]);const n=Web2Bot.encode(i).finish();return e.connection.send(n),t.promise}async function send_command_message(i,r=100){const e={id:get_next_id(),command:i};return send_message(e,r)}async function send_physical_params_message(i,r=100){const e={id:get_next_id(),physicalParams:i};return send_message(e,r)}async function send_pitch_controller_params_message(i,r=100){const e={id:get_next_id(),pitchControllerParams:i};return send_message(e,r)}async function send_yaw_controller_params_message(i,r=100){const e={id:get_next_id(),rollControllerParams:i};return send_message(e,r)}function receive_message(i){const r=new Uint8Array(i);let e=null;try{e=Bot2Web.decode(r)}catch(t){t instanceof protobuf.util.ProtocolError?console.error(t.message):console.error("Couldn't decode message: wire format is invalid"),e=null}if(e){if(console.log(`Received message with ID ${e.id}`),e.response&&response_promises.update(t=>t.filter(n=>{var a;return n.handled?!1:n.command_id==((a=e.response)==null?void 0:a.commandId)?(n.accept(e.response),!1):!0})),e.log){const t=e.log;switch(log.update(n=>[...n,t]),t.level){case LogLevel.DEBUG:console.debug(`LOG (DEBUG): ${t.message}`);break;case LogLevel.INFO:console.info(`LOG (INFO): ${t.message}`);break;case LogLevel.WARN:console.warn(`LOG (WARN): ${t.message}`);break;case LogLevel.ERROR:console.error(`LOG (ERROR): ${t.message}`);break;case LogLevel.FATAL:console.error(`LOG (FATAL): ${t.message}`);break;default:console.log(`LOG (UNKNOWN LEVEL): ${t.message}`);break}}e.state&&robot_state.set(e.state),e.physicalParams&&physical_params.set(e.physicalParams),e.pitchControllerParams&&pitch_controller.set(e.pitchControllerParams),e.yawControllerParams&&yaw_controller.set(e.yawControllerParams)}}const websocket_state=writable({address:"ws://balancebot.local:81",connection:null,connected:!1,show_error_dialog:!1,is_connecting:!1,message:null});function buf2hex(i){return[...new Uint8Array(i)].map(r=>r.toString(16).padStart(2,"0")).join(" ")}function connect(){websocket_state.update(r=>({...r,show_error_dialog:!1,is_connecting:!0}));const i=new WebSocket(get_store_value(websocket_state).address);i.binaryType="arraybuffer",i.onopen=()=>{websocket_state.update(r=>({...r,connection:i,connected:!0,is_connecting:!1}))},i.onclose=r=>{websocket_state.update(e=>({...e,connection:null,connected:!1,is_connecting:!1,message:`Connection closed: ${r.code} ${r.reason}`}))},i.onerror=r=>{websocket_state.update(e=>({...e,show_error_dialog:!0,connected:!1,is_connecting:!1,message:null}))},i.onmessage=r=>{console.log("Received message:",buf2hex(r.data)),receive_message(r.data)}}export{Button as B,Command as C,Icon$1 as I,pitch_controller as a,send_pitch_controller_params_message as b,connect as c,send_command_message as d,send_yaw_controller_params_message as e,get_spread_update as g,physical_params as p,robot_state as r,send_physical_params_message as s,websocket_state as w,yaw_controller as y};
