import{s as de,E as ye,e as k,a as O,c as w,b as I,g as P,f as v,F as ie,G as ae,m as j,i as y,h as g,w as Z,J as Le,k as ge,z as fe,r as ee,q as H,v as T,y as qe,x as J,n as ue,t as M,d as N,j as De}from"../chunks/scheduler.DzWL00L4.js";import{S as _e,i as me,c as S,b as W,m as F,t as D,a as B,d as R,g as Be,f as Ve,e as K}from"../chunks/index.DGXI4d08.js";import{I as Te,g as Ee,p as Me,B as ce,r as Ne,w as ze,c as Ae}from"../chunks/connection.vZzTNFQ_.js";import{C as Oe,T as Y}from"../chunks/TextFieldOutlined.obOLEzTJ.js";import{g as Ue}from"../chunks/entry.C4QaiL9V.js";const Xe={width:24,height:24,body:'<path fill="currentColor" d="m9.55 18l-5.7-5.7l1.425-1.425L9.55 15.15l9.175-9.175L20.15 7.4z"/>'};function je(o){let e,t,n,s,l,a,c,_,d,C=[{type:"checkbox"},{role:"switch"},{disabled:o[4]},o[3]],r={};for(let m=0;m<C.length;m+=1)r=ye(r,C[m]);l=new Te({props:{icon:Xe}});let f=[{class:"m3-container"},{style:a="display: "+o[1]+";"},o[2]],i={};for(let m=0;m<f.length;m+=1)i=ye(i,f[m]);return{c(){e=k("div"),t=k("input"),n=O(),s=k("div"),S(l.$$.fragment),this.h()},l(m){e=w(m,"DIV",{class:!0,style:!0});var u=I(e);t=w(u,"INPUT",{type:!0,role:!0}),n=P(u),s=w(u,"DIV",{class:!0});var x=I(s);W(l.$$.fragment,x),x.forEach(v),u.forEach(v),this.h()},h(){ie(t,r),ae(t,"svelte-1cwnrve",!0),j(s,"class","layer svelte-1cwnrve"),ie(e,i),ae(e,"svelte-1cwnrve",!0)},m(m,u){y(m,e,u),g(e,t),t.autofocus&&t.focus(),t.checked=o[0],g(e,n),g(e,s),F(l,s,null),c=!0,_||(d=[Z(window,"mouseup",o[6]),Z(t,"change",o[7]),Z(t,"keydown",o[8]),Z(e,"mousedown",o[9])],_=!0)},p(m,[u]){ie(t,r=Ee(C,[{type:"checkbox"},{role:"switch"},(!c||u&16)&&{disabled:m[4]},u&8&&m[3]])),u&1&&(t.checked=m[0]),ae(t,"svelte-1cwnrve",!0),ie(e,i=Ee(f,[{class:"m3-container"},(!c||u&2&&a!==(a="display: "+m[1]+";"))&&{style:a},u&4&&m[2]])),ae(e,"svelte-1cwnrve",!0)},i(m){c||(D(l.$$.fragment,m),c=!0)},o(m){B(l.$$.fragment,m),c=!1},d(m){m&&v(e),R(l),_=!1,Le(d)}}}function Ge(o,e,t){let{display:n="inline-flex"}=e,{extraWrapperOptions:s={}}=e,{extraOptions:l={}}=e,{checked:a=!1}=e,{disabled:c=!1}=e,_;const d=i=>{if(!_)return;const m=i.clientX-_;m>16&&!a&&t(0,a=!0),m<-16&&a&&t(0,a=!1),t(5,_=void 0)};function C(){a=this.checked,t(0,a)}const r=i=>{i.code=="Enter"&&t(0,a=!a),i.code=="ArrowLeft"&&t(0,a=!1),i.code=="ArrowRight"&&t(0,a=!0)},f=i=>{c||t(5,_=i.clientX)};return o.$$set=i=>{"display"in i&&t(1,n=i.display),"extraWrapperOptions"in i&&t(2,s=i.extraWrapperOptions),"extraOptions"in i&&t(3,l=i.extraOptions),"checked"in i&&t(0,a=i.checked),"disabled"in i&&t(4,c=i.disabled)},[a,n,s,l,c,_,d,C,r,f]}class He extends _e{constructor(e){super(),me(this,e,Ge,je,de,{display:1,extraWrapperOptions:2,extraOptions:3,checked:0,disabled:4})}}function Je(o){let e,t,n,s,l,a,c,_,d,C,r,f,i,m,u,x,b,p,$,E,L,G,Q,pe,U,z,he,A,te,ve,$e;function Pe(h){o[7](h)}let be={name:"Wheelbase (m)"};o[0]!==void 0&&(be.value=o[0]),n=new Y({props:be}),H.push(()=>K(n,"value",Pe));function Se(h){o[8](h)}let ke={name:"Wheel radius (m)"};o[1]!==void 0&&(ke.value=o[1]),c=new Y({props:ke}),H.push(()=>K(c,"value",Se));function We(h){o[9](h)}let we={name:"Motor max speed (rpm)"};o[2]!==void 0&&(we.value=o[2]),r=new Y({props:we}),H.push(()=>K(r,"value",We));function Fe(h){o[10](h)}let Ce={name:"Gravity (m/s²)"};o[3]!==void 0&&(Ce.value=o[3]),u=new Y({props:Ce}),H.push(()=>K(u,"value",Fe));function Re(h){o[11](h)}let xe={name:"Torque length (N·m)"};return o[4]!==void 0&&(xe.value=o[4]),$=new Y({props:xe}),H.push(()=>K($,"value",Re)),z=new ce({props:{type:"filled",$$slots:{default:[Qe]},$$scope:{ctx:o}}}),z.$on("click",Ie),A=new ce({props:{type:"outlined",$$slots:{default:[Ye]},$$scope:{ctx:o}}}),A.$on("click",o[6]),{c(){e=k("form"),t=k("div"),s=k("div"),S(n.$$.fragment),a=O(),_=k("div"),S(c.$$.fragment),C=O(),f=k("div"),S(r.$$.fragment),m=O(),x=k("div"),S(u.$$.fragment),p=O(),E=k("div"),S($.$$.fragment),G=O(),Q=k("div"),pe=O(),U=k("div"),S(z.$$.fragment),he=O(),S(A.$$.fragment),this.h()},l(h){e=w(h,"FORM",{});var V=I(e);t=w(V,"DIV",{class:!0});var q=I(t);s=w(q,"DIV",{style:!0});var ne=I(s);W(n.$$.fragment,ne),a=P(q),_=w(q,"DIV",{style:!0});var le=I(_);W(c.$$.fragment,le),C=P(q),f=w(q,"DIV",{style:!0});var se=I(f);W(r.$$.fragment,se),m=P(q),x=w(q,"DIV",{style:!0});var re=I(x);W(u.$$.fragment,re),p=P(q),E=w(q,"DIV",{style:!0});var oe=I(E);W($.$$.fragment,oe),q.forEach(v),G=P(V),Q=w(V,"DIV",{style:!0}),I(Q).forEach(v),pe=P(V),U=w(V,"DIV",{class:!0});var X=I(U);W(z.$$.fragment,X),he=P(X),W(A.$$.fragment,X),X.forEach(v),V.forEach(v),this.h()},h(){T(s,"display","contents"),T(s,"--m3-util-background","var(--m3-scheme-surface-container-highest)"),T(_,"display","contents"),T(_,"--m3-util-background","var(--m3-scheme-surface-container-highest)"),T(f,"display","contents"),T(f,"--m3-util-background","var(--m3-scheme-surface-container-highest)"),T(x,"display","contents"),T(x,"--m3-util-background","var(--m3-scheme-surface-container-highest)"),T(E,"display","contents"),T(E,"--m3-util-background","var(--m3-scheme-surface-container-highest)"),j(t,"class","txt-group svelte-1ucichh"),T(Q,"height","1rem"),j(U,"class","btn-group svelte-1ucichh")},m(h,V){y(h,e,V),g(e,t),g(t,s),F(n,s,null),g(t,a),g(t,_),F(c,_,null),g(t,C),g(t,f),F(r,f,null),g(t,m),g(t,x),F(u,x,null),g(t,p),g(t,E),F($,E,null),g(e,G),g(e,Q),g(e,pe),g(e,U),F(z,U,null),g(U,he),F(A,U,null),te=!0,ve||($e=Z(e,"submit",qe(Ie)),ve=!0)},p(h,V){const q={};!l&&V&1&&(l=!0,q.value=h[0],J(()=>l=!1)),n.$set(q);const ne={};!d&&V&2&&(d=!0,ne.value=h[1],J(()=>d=!1)),c.$set(ne);const le={};!i&&V&4&&(i=!0,le.value=h[2],J(()=>i=!1)),r.$set(le);const se={};!b&&V&8&&(b=!0,se.value=h[3],J(()=>b=!1)),u.$set(se);const re={};!L&&V&16&&(L=!0,re.value=h[4],J(()=>L=!1)),$.$set(re);const oe={};V&4096&&(oe.$$scope={dirty:V,ctx:h}),z.$set(oe);const X={};V&4096&&(X.$$scope={dirty:V,ctx:h}),A.$set(X)},i(h){te||(D(n.$$.fragment,h),D(c.$$.fragment,h),D(r.$$.fragment,h),D(u.$$.fragment,h),D($.$$.fragment,h),D(z.$$.fragment,h),D(A.$$.fragment,h),te=!0)},o(h){B(n.$$.fragment,h),B(c.$$.fragment,h),B(r.$$.fragment,h),B(u.$$.fragment,h),B($.$$.fragment,h),B(z.$$.fragment,h),B(A.$$.fragment,h),te=!1},d(h){h&&v(e),R(n),R(c),R(r),R(u),R($),R(z),R(A),ve=!1,$e()}}}function Ke(o){let e,t="Loading...";return{c(){e=k("p"),e.textContent=t},l(n){e=w(n,"P",{"data-svelte-h":!0}),ee(e)!=="svelte-qdsr2u"&&(e.textContent=t)},m(n,s){y(n,e,s)},p:ue,i:ue,o:ue,d(n){n&&v(e)}}}function Qe(o){let e;return{c(){e=M("Send to BalancBot")},l(t){e=N(t,"Send to BalancBot")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Ye(o){let e;return{c(){e=M("Reset")},l(t){e=N(t,"Reset")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Ze(o){let e,t="Physical Characteristics",n,s,l,a,c;const _=[Ke,Je],d=[];function C(r,f){return r[5]===null?0:1}return s=C(o),l=d[s]=_[s](o),{c(){e=k("h1"),e.textContent=t,n=O(),l.c(),a=fe()},l(r){e=w(r,"H1",{"data-svelte-h":!0}),ee(e)!=="svelte-1k4z1r"&&(e.textContent=t),n=P(r),l.l(r),a=fe()},m(r,f){y(r,e,f),y(r,n,f),d[s].m(r,f),y(r,a,f),c=!0},p(r,f){let i=s;s=C(r),s===i?d[s].p(r,f):(Be(),B(d[i],1,1,()=>{d[i]=null}),Ve(),l=d[s],l?l.p(r,f):(l=d[s]=_[s](r),l.c()),D(l,1),l.m(a.parentNode,a))},i(r){c||(D(l),c=!0)},o(r){B(l),c=!1},d(r){r&&(v(e),v(n),v(a)),d[s].d(r)}}}function et(o){let e,t;return e=new Oe({props:{type:"filled",$$slots:{default:[Ze]},$$scope:{ctx:o}}}),{c(){S(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p(n,[s]){const l={};s&4159&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function Ie(){}function tt(o,e,t){let n;ge(o,Me,u=>t(5,n=u));let s,l,a,c,_;function d(){var u,x,b,p,$;t(0,s=(u=n==null?void 0:n.wheelBase)==null?void 0:u.toFixed()),t(1,l=(x=n==null?void 0:n.wheelRadius)==null?void 0:x.toFixed()),t(2,a=(b=n==null?void 0:n.motorMaxSpeed)==null?void 0:b.toFixed()),t(3,c=(p=n==null?void 0:n.gravity)==null?void 0:p.toFixed()),t(4,_=($=n==null?void 0:n.torqueLength)==null?void 0:$.toFixed())}function C(u){s=u,t(0,s)}function r(u){l=u,t(1,l)}function f(u){a=u,t(2,a)}function i(u){c=u,t(3,c)}function m(u){_=u,t(4,_)}return[s,l,a,c,_,n,d,C,r,f,i,m]}class nt extends _e{constructor(e){super(),me(this,e,tt,et,de,{})}}function lt(o){let e,t,n,s=o[1].address+"",l,a,c,_,d,C="Balancing:",r,f,i,m,u;function x(p){o[3](p)}let b={};return o[0]!==void 0&&(b.checked=o[0]),i=new He({props:b}),H.push(()=>K(i,"checked",x)),{c(){e=k("p"),t=M("Connected at "),n=k("code"),l=M(s),a=M("."),c=O(),_=k("div"),d=k("p"),d.textContent=C,r=O(),f=k("label"),S(i.$$.fragment),this.h()},l(p){e=w(p,"P",{});var $=I(e);t=N($,"Connected at "),n=w($,"CODE",{});var E=I(n);l=N(E,s),E.forEach(v),a=N($,"."),$.forEach(v),c=P(p),_=w(p,"DIV",{class:!0});var L=I(_);d=w(L,"P",{"data-svelte-h":!0}),ee(d)!=="svelte-1inikph"&&(d.textContent=C),r=P(L),f=w(L,"LABEL",{for:!0});var G=I(f);W(i.$$.fragment,G),G.forEach(v),L.forEach(v),this.h()},h(){j(f,"for",void 0),j(_,"class","toggle-container svelte-1d5hksh")},m(p,$){y(p,e,$),g(e,t),g(e,n),g(n,l),g(e,a),y(p,c,$),y(p,_,$),g(_,d),g(_,r),g(_,f),F(i,f,null),u=!0},p(p,$){(!u||$&2)&&s!==(s=p[1].address+"")&&De(l,s);const E={};!m&&$&1&&(m=!0,E.checked=p[0],J(()=>m=!1)),i.$set(E)},i(p){u||(D(i.$$.fragment,p),u=!0)},o(p){B(i.$$.fragment,p),u=!1},d(p){p&&(v(e),v(c),v(_)),R(i)}}}function st(o){let e,t,n="BalanceBot is disconnected!",s,l,a,c,_=o[1].address+"",d,C,r,f,i,m,u,x;return i=new ce({props:{type:"filled",$$slots:{default:[rt]},$$scope:{ctx:o}}}),i.$on("click",Ae),u=new ce({props:{type:"outlined",$$slots:{default:[ot]},$$scope:{ctx:o}}}),u.$on("click",o[2]),{c(){e=k("div"),t=k("p"),t.textContent=n,s=O(),l=k("p"),a=M("Previously connected at "),c=k("code"),d=M(_),C=M("."),r=O(),f=k("div"),S(i.$$.fragment),m=O(),S(u.$$.fragment),this.h()},l(b){e=w(b,"DIV",{});var p=I(e);t=w(p,"P",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-e3j97i"&&(t.textContent=n),s=P(p),l=w(p,"P",{});var $=I(l);a=N($,"Previously connected at "),c=w($,"CODE",{});var E=I(c);d=N(E,_),E.forEach(v),C=N($,"."),$.forEach(v),p.forEach(v),r=P(b),f=w(b,"DIV",{class:!0});var L=I(f);W(i.$$.fragment,L),m=P(L),W(u.$$.fragment,L),L.forEach(v),this.h()},h(){j(t,"class","error svelte-1d5hksh"),j(f,"class","btn-group svelte-1d5hksh")},m(b,p){y(b,e,p),g(e,t),g(e,s),g(e,l),g(l,a),g(l,c),g(c,d),g(l,C),y(b,r,p),y(b,f,p),F(i,f,null),g(f,m),F(u,f,null),x=!0},p(b,p){(!x||p&2)&&_!==(_=b[1].address+"")&&De(d,_);const $={};p&128&&($.$$scope={dirty:p,ctx:b}),i.$set($);const E={};p&128&&(E.$$scope={dirty:p,ctx:b}),u.$set(E)},i(b){x||(D(i.$$.fragment,b),D(u.$$.fragment,b),x=!0)},o(b){B(i.$$.fragment,b),B(u.$$.fragment,b),x=!1},d(b){b&&(v(e),v(r),v(f)),R(i),R(u)}}}function rt(o){let e;return{c(){e=M("Reconnect")},l(t){e=N(t,"Reconnect")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function ot(o){let e;return{c(){e=M("Connect to a different WebSocket")},l(t){e=N(t,"Connect to a different WebSocket")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function it(o){let e,t="BalanceBot Web UI",n,s,l,a,c;const _=[st,lt],d=[];function C(r,f){return r[1].connected?1:0}return s=C(o),l=d[s]=_[s](o),{c(){e=k("h1"),e.textContent=t,n=O(),l.c(),a=fe()},l(r){e=w(r,"H1",{"data-svelte-h":!0}),ee(e)!=="svelte-13n4767"&&(e.textContent=t),n=P(r),l.l(r),a=fe()},m(r,f){y(r,e,f),y(r,n,f),d[s].m(r,f),y(r,a,f),c=!0},p(r,f){let i=s;s=C(r),s===i?d[s].p(r,f):(Be(),B(d[i],1,1,()=>{d[i]=null}),Ve(),l=d[s],l?l.p(r,f):(l=d[s]=_[s](r),l.c()),D(l,1),l.m(a.parentNode,a))},i(r){c||(D(l),c=!0)},o(r){B(l),c=!1},d(r){r&&(v(e),v(n),v(a)),d[s].d(r)}}}function at(o){let e,t;return e=new Oe({props:{type:"filled",$$slots:{default:[it]},$$scope:{ctx:o}}}),{c(){S(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p(n,[s]){const l={};s&131&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function ut(o,e,t){let n,s;ge(o,Ne,d=>t(5,n=d)),ge(o,ze,d=>t(1,s=d));let l=!1;function a(d){setTimeout(()=>{t(0,l=(n==null?void 0:n.active)??!1)},100)}const c=()=>Ue("/");function _(d){l=d,t(0,l)}return o.$$.update=()=>{o.$$.dirty&1&&a()},[l,s,c,_]}class ft extends _e{constructor(e){super(),me(this,e,ut,at,de,{})}}function ct(o){let e,t,n,s;return e=new ft({}),n=new nt({}),{c(){S(e.$$.fragment),t=O(),S(n.$$.fragment)},l(l){W(e.$$.fragment,l),t=P(l),W(n.$$.fragment,l)},m(l,a){F(e,l,a),y(l,t,a),F(n,l,a),s=!0},p:ue,i(l){s||(D(e.$$.fragment,l),D(n.$$.fragment,l),s=!0)},o(l){B(e.$$.fragment,l),B(n.$$.fragment,l),s=!1},d(l){l&&v(t),R(e,l),R(n,l)}}}class vt extends _e{constructor(e){super(),me(this,e,null,ct,de,{})}}export{vt as component};
